{"version":3,"sources":["components.min.js"],"names":["angular","module","config","$provide","value","DATETIME_FORMATS","AMPMS","DAY","ERANAMES","ERAS","FIRSTDAYOFWEEK","MONTH","SHORTDAY","SHORTMONTH","WEEKENDRANGE","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","NUMBER_FORMATS","CURRENCY_SYM","DECIMAL_SEP","GROUP_SEP","PATTERNS","gSize","lgSize","maxFrac","minFrac","minInt","negPre","negSuf","posPre","posSuf","id","pluralCat","n","opt_precision","i","vf","getVF","v","PLURAL_CATEGORY","ONE","OTHER","directive","$q","$log","require","scope","ajaxValid","link","element","attrs","ngModel","$asyncValidators","modelValue","viewValue","when","then","result","reject","error","restrict","controller","ctrls","banner","init","eayunBanner","name","interval","$scope","$parse","$timeout","SingleSelection","flush","ctrl","next","timer","watch","single","this","dataField","_interval","getSingle","$watch","extend","start","$on","cancel","select","index","back","stop","factory","listData","activeData","$$selected","$$index","_listData","isArray","length","forEach","item","$$select","log","debug","echarts","$","attr","document","getElementById","$document","templateUrl","replace","datepickerMode","minMode","dateDisabled","customClass","shortcutPropagation","format","minDate","maxDate","showTime","isDefined","$parent","$eval","required","$render","$modelValue","$setViewValue","date","Date","setHours","setFullYear","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","close","removeClass","status","opened","today","current","toggle","ok","reset","noop","open","dateOptions","formatYear","startingDay","controllerAs","$templateRequest","$compile","hint","template","tooltip","placement","tooltipPlacement","html","trigger","title","tooltipClass","distroy","hintShow","show","transclude","vm","api","expanders","closeExpander","expander","target","collapse","addExpander","push","accordionOthers","selectedExpander","active","accordionCtrl","expanderShow","addClass","click","documentClickBind","hasClass","eayunToggle","unbind","toggleClass","bind","maxLength","items","placeholder","pattern","className","onFocus","onBlur","focus","blur","modify","splice","filterData","maxlength","textField","ngModelCtrl","getMap","map","option","getKeys","options","Object","keys","text","key","$event","showMenu","stopPropagation","disabled","$observe","$apply","check","$parsers","unshift","newValue","val","Array","curOption","_option","selected","addOption","_text","_value","_selected","getOptionByValue","_ngModelCtrl","_newValue","_newV","_oldV","inputSelectCtrl","$rootScope","find","css","$controller","$injector","$sce","getResolvePromises","resolves","promisesArr","isFunction","invoke","isString","get","ctrlInstance","ctrlLocals","resolveIter","modalOptions","modalScope","empty","form","append","dialogForm","all","resolve","values","bindToController","$state","$modalInstance","dismiss","data","commit","msg","type","timeout","trustAsHtml","service","$modal","addModal","modal","modalArray","pop","dismissAll","eayunModal","extendOptions","defaultOpt","showBtn","getScope","$new","width","backdrop","keyboard","dialog","confirm","undefined","alert","successalert","info","warning","success","$window","maxValue","minValue","onValueChange","totalStep","precision","parse","mousemove","event","offsetLeft","getBoundingClientRect","left","progressCtrl","setLeft","Math","max","clientX","mouseup","increment","mousedown","getSelection","removeAllRanges","parseInt","leftToStep","scale","stepToLeft","step","fixed","_ngModel","__proto__","setValue","setStep","min","getLeft","Number","toFixed","getValue","warpCallback","getStep","_step","callback","$value","suffix","_render","up","down","oldValue","move","keypress","keyCode","refresh","isNumber","isSame","anotherValue","eyAssertSameAs","$validators","same","$setValidity","$viewValue","filter","$filter","split","array","count","indexOf","searchCtrl","searchFn","series","parseSelectArray","selectArray","getSeries","showSelectBtn","setSeries","_series","multi","_searchFn","_select","_placeholder","hasFilter","showFilter","doSearch","join","str","changeSelect","search","tableService","eayunTable","tableCtrl","draw","isLoading","query","getSource","getParam","setSource","source","ajaxSource","param","setResult","a","$broadcast","pageApi","first","pageNumber","pageSize","totalPage","$$totalCount","params","buttons","changeButtons","$showLoading","queryPage","page","isLoad","totalCount","ceil","goto","last","canShowButton","isCurrent","num","number","valid","newV","oldV","test","$http","post","response","selectFlag","getShowText","showLength","substr","showFormat","textTip","value_","text_","selected_","removeOption","option_","ngModelCtrl_","selectCtrl","optionsData","valueField","firstKey","optionClick","$option","change","clear","getTreeItemByValue","isLeaf","children","concat","curItem","toast","running","isIE","window","content","trumbowyg","lang","btns","on","treeData","canChecked","itemClicked","itemCheckedChanged","itemTemplateUrl","expendLevel","eayunTreeService","itemExpended","$$isExpend","getItemIcon","expendToLevel","$item","breadthFirst","visitFn","maxDepth","_depth","depth","tree","getChildren","expend","expendAll","depthFirst","level","collapseAll","$locale","orderByFilter","createParser","regex","formatCodeToRegex","code","apply","RegExp","isValid","year","month","SPECIAL_CHARACTERS_REGEXP","parsers","yyyy","yy","y","MMMM","MMM","MM","M","dd","d","EEEE","EEE","HH","hours","hh","H","h","mm","minutes","m","sss","milliseconds","ss","seconds","s","input","baseDate","parser","results","match","fields","dt","isDate","isNaN","getTime","getMilliseconds","warn","mapper","call","constant","formatDay","formatMonth","formatDayHeader","formatDayTitle","formatMonthTitle","maxMode","showWeeks","yearRange","$attrs","$interpolate","dateFilter","datepickerConfig","$datepickerSuppressError","self","modes","refreshView","uniqueId","$id","floor","random","initDate","activeDate","$isEmpty","$invalid","isActive","dateObject","compare","activeDateId","uid","render","time","_refreshView","isDisabled","createDateObject","model","label","mode","arr","size","arrays","fixTimeZone","setMinutes","setSeconds","setTime","direction","years","months","toggleMode","13","32","33","34","35","36","37","38","39","40","focusElement","keydown","evt","which","shiftKey","altKey","preventDefault","ctrlKey","handleKeyDown","datepickerCtrl","getDaysInMonth","DAYS_IN_MONTH","getDates","startDate","dates","setDate","getISO8601WeekNumber","checkDate","getDay","setMonth","round","firstDayOfMonth","difference","numDisplayedFromPreviousMonth","firstDate","days","secondary","labels","j","abbr","full","rows","weekNumbers","thursdayIndex","numWeeks","curWeek","date1","date2","getStartingYear","range","datepickerPopup","datepickerPopupTemplateUrl","datepickerTemplateUrl","html5Types","datetime-local","currentText","clearText","closeText","closeOnDateSelection","appendToBody","showButtonBar","onOpenFocus","$position","dateParser","datepickerPopupConfig","isOpen","cameltoDash","string","$1","toLowerCase","parseDate","dateFormat","validator","ngRequired","datepickerAppendToBody","cache","getText","watchData","isHtml5DateInput","newDateFormat","Error","popupEl","ng-model","ng-change","template-url","datepickerEl","datepickerOptions","getAttribute","setAttribute","assign","oldvalue","$formatters","$$parserName","dateSelection","$viewChangeListeners","contains","inputKeydownBind","position","offset","top","prop","$popup","remove","after","$$phase","getStyle","el","cssprop","currentStyle","getComputedStyle","style","isStaticPositioned","parentOffsetEl","docDomEl","offsetParent","elBCR","offsetParentBCR","offsetParentEl","clientTop","scrollTop","clientLeft","scrollLeft","boundingClientRect","height","pageYOffset","documentElement","pageXOffset","positionElements","hostEl","targetEl","positionStr","hostElPos","targetElWidth","targetElHeight","targetElPos","positionStrParts","pos0","pos1","shiftWidth","center","right","shiftHeight","bottom","$bindHtmlUnsafeSuppressDeprecated","bindHtmlUnsafe","provider","snake_case","regexp","separator","letter","pos","defaultOptions","animation","popupDelay","useContentExp","triggerMap","mouseenter","none","globalOptions","setTriggers","triggers","$get","prefix","defaultTriggerShow","getTriggers","hide","directiveName","startSym","startSymbol","endSym","endSymbol","compile","tElem","tAttrs","tooltipLinker","tooltipCtrl","toggleTooltipBind","ttScope","hideTooltipBind","showTooltipBind","hasEnableExp","prepareTooltip","popupTimeout","$digest","transitionTimeout","contentExp","createTooltip","isOpenExp","origScope","display","positionTooltip","positionTimeout","removeTooltip","tooltipLinkedScope","repositionScheduled","$$postDigest","$destroy","prepPopupClass","prepPlacement","prepPopupDelay","popupClass","delay","prepTriggers","unregisterTriggers","idx","addEventListener","ttBox","ttCss","appendToBodyVal","$animate","elem","currentScope","previousElement","currentElement","tooltipTemplateTranscludeScope","changeCounter","cleanupLastIncludeContent","leave","parseAsResourceUrl","tooltipTemplateTransclude","src","thisChangeId","newScope","clone","enter","$emit","tooltipAnimationClass","$tooltip","originScope","tooltipHtmlUnsafeSuppressDeprecated","createNew","stack","add","removeTop","entries","hasKey","put","$modalStack","linkFn","modalInClass","$animateCss","NOW_CLOSING_EVENT","e","setIsAsync","done","has","tElement","backdropClass","windowClass","getTop","currentTarget","$isRendered","modalRenderDeferObj","defer","promise","animationPromise","inputsWithAutofocus","querySelectorAll","modalRendered","modalAnimation","modalAnimationClass","$element","$transclude","$$multiMap","$$stackedMap","backdropIndex","topBackdropIndex","openedWindows","removeModalWindow","modalInstance","elementToReceiveFocus","body","eq","modalWindow","removeAfterAnimate","modalDomEl","modalBodyClass","openedClass","OPENED_MODAL_CLASS","openedClasses","checkRemoveBackdrop","backdropDomEl","backdropScopeRef","backdropScope","domEl","afterAnimating","asyncDeferred","asyncPromise","broadcastClosing","resultOrReason","closing","defaultPrevented","focusableElementList","focusIndex","tababbleSelector","newBackdropIndex","isDefaultPrevented","loadFocusElementList","focusChanged","isFocusInFirstItem","focusLastFocusableElement","isFocusInLastItem","focusFirstFocusableElement","modalOpener","activeElement","deferred","renderDeferred","currBackdropIndex","angularBackgroundDomEl","angularDomEl","windowTemplateUrl","window-class","animate","clearFocusListCache","$$uibDestructionScheduled","reason","topModal","srcElement","length0","modalDomE1","$modalProvider","getTemplatePromise","promiseChain","getPromiseChain","modalResultDeferred","modalOpenedDeferred","modalRenderDeferred","rendered","samePromise","templateAndResolvePromise","tplAndVars","$close","$dismiss","endDate","preArray","preTitle","headers","headerWidth","headerArray","listDate","addAll","removeAll","b","field","removeAttr"],"mappings":"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","file":"components.min.js","sourcesContent":["/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components', [\r\n        'ui.bootstrap.modal',\r\n        'ui.bootstrap.datepicker',\r\n        'ui.bootstrap.dateparser',\r\n        'ui.bootstrap.position',\r\n        'ui.bootstrap.bindHtml',\r\n        'ui.bootstrap.tooltip'\r\n    ])\r\n    .config(function ($provide) {\r\n        $provide.value(\"$locale\", {\r\n            \"DATETIME_FORMATS\": {\r\n                \"AMPMS\": [\r\n                    \"AM\",\r\n                    \"PM\"\r\n                ],\r\n                \"DAY\": [\r\n                    \"\",\r\n                    \"\",\r\n                    \"\",\r\n                    \"\",\r\n                    \"\",\r\n                    \"\",\r\n                    \"\"\r\n                ],\r\n                \"ERANAMES\": [\r\n                    \"Before Christ\",\r\n                    \"Anno Domini\"\r\n                ],\r\n                \"ERAS\": [\r\n                    \"BC\",\r\n                    \"AD\"\r\n                ],\r\n                \"FIRSTDAYOFWEEK\": 6,\r\n                \"MONTH\": [\r\n                    \"1\",\r\n                    \"2\",\r\n                    \"3\",\r\n                    \"4\",\r\n                    \"5\",\r\n                    \"6\",\r\n                    \"7\",\r\n                    \"8\",\r\n                    \"9\",\r\n                    \"10\",\r\n                    \"11\",\r\n                    \"12\"\r\n                ],\r\n                \"SHORTDAY\": [\r\n                    \"Sun\",\r\n                    \"Mon\",\r\n                    \"Tue\",\r\n                    \"Wed\",\r\n                    \"Thu\",\r\n                    \"Fri\",\r\n                    \"Sat\"\r\n                ],\r\n                \"SHORTMONTH\": [\r\n                    \"Jan\",\r\n                    \"Feb\",\r\n                    \"Mar\",\r\n                    \"Apr\",\r\n                    \"May\",\r\n                    \"Jun\",\r\n                    \"Jul\",\r\n                    \"Aug\",\r\n                    \"Sep\",\r\n                    \"Oct\",\r\n                    \"Nov\",\r\n                    \"Dec\"\r\n                ],\r\n                \"WEEKENDRANGE\": [\r\n                    5,\r\n                    6\r\n                ],\r\n                \"fullDate\": \"EEEE, MMMM d, y\",\r\n                \"longDate\": \"MMMM d, y\",\r\n                \"medium\": \"MMM d, y h:mm:ss a\",\r\n                \"mediumDate\": \"MMM d, y\",\r\n                \"mediumTime\": \"h:mm:ss a\",\r\n                \"short\": \"M/d/yy h:mm a\",\r\n                \"shortDate\": \"M/d/yy\",\r\n                \"shortTime\": \"h:mm a\"\r\n            },\r\n            \"NUMBER_FORMATS\": {\r\n                \"CURRENCY_SYM\": \"$\",\r\n                \"DECIMAL_SEP\": \".\",\r\n                \"GROUP_SEP\": \",\",\r\n                \"PATTERNS\": [\r\n                    {\r\n                        \"gSize\": 3,\r\n                        \"lgSize\": 3,\r\n                        \"maxFrac\": 3,\r\n                        \"minFrac\": 0,\r\n                        \"minInt\": 1,\r\n                        \"negPre\": \"-\",\r\n                        \"negSuf\": \"\",\r\n                        \"posPre\": \"\",\r\n                        \"posSuf\": \"\"\r\n                    },\r\n                    {\r\n                        \"gSize\": 3,\r\n                        \"lgSize\": 3,\r\n                        \"maxFrac\": 2,\r\n                        \"minFrac\": 2,\r\n                        \"minInt\": 1,\r\n                        \"negPre\": \"-\\u00a4\",\r\n                        \"negSuf\": \"\",\r\n                        \"posPre\": \"\\u00a4\",\r\n                        \"posSuf\": \"\"\r\n                    }\r\n                ]\r\n            },\r\n            \"id\": \"en-us\",\r\n            \"pluralCat\": function (n, opt_precision) {\r\n                var i = n | 0;\r\n                var vf = getVF(n, opt_precision);\r\n                if (i == 1 && vf.v == 0) {\r\n                    return PLURAL_CATEGORY.ONE;\r\n                }\r\n                return PLURAL_CATEGORY.OTHER;\r\n            }\r\n        });\r\n    });\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:ajaxValid\r\n     * @description\r\n     * # ajaxValid\r\n     * ajax\r\n     */\r\n    .directive('ajaxValid', ['$q', '$log', function ($q, $log) {\r\n        return {\r\n            require: '?ngModel',\r\n            scope: {\r\n                ajaxValid: '&'\r\n            },\r\n            link: function postLink(scope, element, attrs, ngModel) {\r\n                if (!ngModel) {\r\n                    $log.error('ajaxValid  ngModel ');\r\n                    return;\r\n                }\r\n                ngModel.$asyncValidators.ajaxValid = function (modelValue, viewValue) {\r\n                    return $q.when(scope.ajaxValid({value: viewValue})).then(function (result) {\r\n                        if (!result)\r\n                            return $q.reject('');\r\n                        return true;\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    .directive('eayunBanner', [function () {\r\n        return {\r\n            restrict: 'EA',\r\n            controller: 'BannerCtrl',\r\n            require: ['eayunBanner'],\r\n            link: function postLink(scope, element, attrs, ctrls) {\r\n                var banner = ctrls[0];\r\n                banner.init(attrs.eayunBanner, attrs.name, attrs.interval);\r\n            }\r\n        }\r\n    }])\r\n    .controller('BannerCtrl', ['$scope', '$parse', '$timeout', 'SingleSelection',\r\n        function ($scope, $parse, $timeout, SingleSelection) {\r\n            var ctrl = this,\r\n                watch,\r\n                timer,\r\n                single,\r\n                interval;\r\n\r\n            function flush() {\r\n                ctrl.next();\r\n                timer = $timeout(flush, interval);\r\n            };\r\n\r\n            ctrl.init = function (dataField, name, _interval) {\r\n                name = name || 'banner';\r\n                interval = $parse(_interval)($scope) || 3000;\r\n                single = SingleSelection.getSingle();\r\n                watch = $scope.$watch(dataField, function (value) {\r\n                        single.init(value);\r\n                }, true);\r\n                $scope[name] = angular.extend($scope[name] || {}, ctrl);\r\n                ctrl.start();\r\n                $scope.$on('$destroy', function () {\r\n                    watch();\r\n                    $timeout.cancel(timer);\r\n                });\r\n            };\r\n            ctrl.select = function (index) {\r\n                single.select(index);\r\n            };\r\n            ctrl.next = function () {\r\n                single.next();\r\n            };\r\n            ctrl.back = function () {\r\n                single.back();\r\n            };\r\n            ctrl.stop = function () {\r\n                $timeout.cancel(timer);\r\n            };\r\n            ctrl.start = function () {\r\n                timer = $timeout(flush, interval);\r\n            };\r\n        }])\r\n    .factory('SingleSelection', ['$log', function ($log) {\r\n        function SingleSelection() {\r\n            var single = this,\r\n                activeData = {$$selected: false, $$index: -1},\r\n                listData;\r\n\r\n            single.init = function (_listData) {\r\n                if (!angular.isArray(_listData)) {\r\n                    $log.log(\"SingleSelection: listData\");\r\n                    $log.debug(_listData);\r\n                    return;\r\n                }\r\n\r\n                if (_listData.length > 0) {\r\n                    listData = _listData;\r\n                    single.select(0);\r\n                    angular.forEach(listData, function (item, index) {\r\n                        if (item.$$select) {\r\n                            single.select(index);\r\n                        }\r\n                    });\r\n                }\r\n                return single;\r\n            };\r\n            single.select = function (index) {\r\n                if (index >= 0 && index < listData.length) {\r\n                    activeData.$$selected = false;\r\n                    activeData = listData[index];\r\n                    activeData.$$selected = true;\r\n                    activeData.$$index = index;\r\n                }\r\n            };\r\n            single.next = function () {\r\n                var index = (activeData.$$index + 1) % listData.length;\r\n                single.select((index + listData.length) % listData.length);\r\n            };\r\n            single.back = function () {\r\n                var index = (activeData.$$index - 1) % listData.length;\r\n                single.select((index + listData.length) % listData.length);\r\n            };\r\n        };\r\n\r\n        return {\r\n            getSingle: function () {\r\n                return new SingleSelection();\r\n            }\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/30.\r\n */\r\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    .directive('echarts', [function () {\r\n        var id = 0;\r\n        return {\r\n            restrict: 'A',\r\n            scope: {\r\n                echarts: '='\r\n            },\r\n            link: function postLink(scope, element, attrs) {\r\n                id++;\r\n                $(element).attr('id', 'echarts_' + id);\r\n                scope.echarts = echarts.init(document.getElementById('echarts_' + id));\r\n            }\r\n        }\r\n    }]);\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:dateTimePicker\r\n     * @description\r\n     * # dateTimePicker\r\n     * \r\n     */\r\n    .directive('dateTimePicker', ['$document', function ($document) {\r\n        return {\r\n            templateUrl: 'components/datepicker/datetimepicker.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            controller: 'dateTimePickerCtrl',\r\n            scope: {\r\n                datepickerMode: '@',\r\n                minMode: '@',\r\n                dateDisabled: '=',\r\n                customClass: '&',\r\n                shortcutPropagation: '&?',\r\n                format: '@',\r\n                minDate: '=',\r\n                maxDate: '='\r\n            },\r\n            require: '?ngModel',\r\n            link: function postLink(scope, element, attrs, ngModel) {\r\n                scope.showTime = angular.isDefined(attrs.showTime) ? scope.$parent.$eval(attrs.showTime) : false;\r\n                scope.minMode = scope.minMode || 'day';\r\n                scope.datepickerMode = scope.datepickerMode || 'day';\r\n                scope.require = !!attrs.required;\r\n                if (!scope.format) {\r\n                    scope.format = scope.showTime ? 'yyyy-MM-dd HH:mm:ss' : 'yyyy-MM-dd';\r\n                }\r\n                if (ngModel) {\r\n                    ngModel.$render = function () {\r\n                        scope.value = ngModel.$modelValue;\r\n                    };\r\n                    scope.$watch('value', function () {\r\n                        ngModel.$setViewValue(scope.value);\r\n                    });\r\n                }\r\n                if (angular.isDefined(attrs.init)) {\r\n                    var init = scope.$parent.$eval(attrs.init) || [0, 0, 0, 0, 0, 0];\r\n                    var date = new Date();\r\n                    scope.showTime || date.setHours(0, 0, 0, 0);\r\n                    date.setFullYear((init[0] || 0) + date.getFullYear(), (init[1] || 0) + date.getMonth(), (init[2] || 0) + date.getDate());\r\n                    date.setHours((init[3] || 0) + date.getHours(), (init[4] || 0) + date.getMinutes(), (init[5] || 0) + date.getSeconds(), 0);\r\n                    scope.value = date;\r\n                    ngModel && ngModel.$setViewValue(date);\r\n                }\r\n                scope.close = function () {\r\n                    element.removeClass('open');\r\n                };\r\n            }\r\n        }\r\n    }])\r\n    .controller('dateTimePickerCtrl', ['$scope', '$timeout', function ($scope, $timeout) {\r\n        $scope.status = {\r\n            opened: false\r\n        };\r\n        $scope.today = function () {\r\n            var current = new Date();\r\n            if (!$scope.showTime)\r\n                current.setHours(0, 0, 0, 0);\r\n            $scope.value = current;\r\n            $scope.toggle();\r\n        };\r\n\r\n        $scope.ok = function () {\r\n            if (!$scope.value) {\r\n                $scope.today();\r\n            }\r\n            $scope.close();\r\n        };\r\n\r\n        $scope.reset = function () {\r\n            var current = new Date($scope.value);\r\n            current.setHours(0, 0, 0, 0);\r\n            $scope.value = current;\r\n            $timeout(function () {\r\n                $scope.value = angular.noop();\r\n            }, 20);\r\n            $scope.toggle();\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/8/8.\r\n */\r\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive\r\n     * @description\r\n     * \r\n     */\r\n    .directive('eayunTimeFrame', [function () {\r\n        return {\r\n            templateUrl: 'components/datepicker/datetimepicker.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            controller: function ($scope) {\r\n                $scope.status = {\r\n                    opened: false\r\n                };\r\n                $scope.open = function () {\r\n                    $scope.status.opened = true;\r\n                };\r\n                $scope.dateOptions = {\r\n                    formatYear: 'yy',\r\n                    startingDay: 1\r\n                };\r\n            },\r\n            controllerAs: 'timeFrame',\r\n            scope: {\r\n                datepickerMode: '=?',\r\n                dateDisabled: '=',\r\n                customClass: '&',\r\n                shortcutPropagation: '&?',\r\n                format: '@',\r\n                minDate: '=',\r\n                maxDate: '='\r\n            },\r\n            require: '?ngModel',\r\n            link: function postLink(scope, element, attrs, ngModel) {\r\n                scope.showTime = angular.isDefined(attrs.showTime) ? scope.$parent.$eval(attrs.showTime) : false;\r\n                if (!scope.format) {\r\n                    scope.format = scope.showTime ? 'yyyy-MM-dd HH:mm:ss' : 'yyyy-MM-dd';\r\n                }\r\n                if (ngModel) {\r\n                    ngModel.$render = function () {\r\n                        scope.value = ngModel.$modelValue;\r\n                    };\r\n                    scope.$watch('value', function () {\r\n                        ngModel.$setViewValue(scope.value);\r\n                    });\r\n                }\r\n                if (angular.isDefined(attrs.init)) {\r\n                    var init = scope.$parent.$eval(attrs.init) || [0, 0, 0, 0, 0, 0];\r\n                    var date = new Date();\r\n                    scope.showTime || date.setHours(0, 0, 0, 0);\r\n                    date.setFullYear((init[0] || 0) + date.getFullYear(), (init[1] || 0) + date.getMonth(), (init[2] || 0) + date.getDate());\r\n                    date.setHours((init[3] || 0) + date.getHours(), (init[4] || 0) + date.getMinutes(), (init[5] || 0) + date.getSeconds(), 0);\r\n                    scope.value = date;\r\n                    ngModel && ngModel.$setViewValue(date);\r\n                }\r\n            }\r\n        };\r\n    }]);\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:hint\r\n     * @description\r\n     * # hint\r\n     * \r\n     */\r\n    .directive('hint', ['$templateRequest', '$compile', function ($templateRequest, $compile) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function postLink(scope, element, attrs) {\r\n                $templateRequest(attrs.hint).then(function (template) {\r\n                    var init = function () {\r\n                        $(element).tooltip({\r\n                            placement: attrs.tooltipPlacement || 'bottom',\r\n                            html: true,\r\n                            trigger: 'none',\r\n                            title: $compile(template)(scope),\r\n                            template: '<div class=\"tooltip ' + attrs.tooltipClass + '\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>'\r\n                        });\r\n                    };\r\n                    var distroy = function () {\r\n                        $(element).tooltip('destroy');\r\n                    };\r\n                    init();\r\n                    scope.$watch(attrs.hintShow, function (show) {\r\n                        init();\r\n                        show ? $(element).tooltip('show') : distroy();\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    .directive('accordion', [function () {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            template: '<div ng-transclude></div>',\r\n            controller: function () {\r\n                var vm = this;\r\n                var api = {\r\n                    expanders: [],\r\n\r\n                    closeExpander: function (expander) {\r\n                        $(expander.target).collapse('hide');\r\n                    }\r\n                };\r\n\r\n                vm.addExpander = function (expander) {\r\n                    api.expanders.push(expander);\r\n                };\r\n\r\n                vm.accordionOthers = function (selectedExpander) {\r\n                    angular.forEach(api.expanders, function (expander) {\r\n                        if (expander != selectedExpander) {\r\n                            api.closeExpander(expander);\r\n                            expander.active = false;\r\n                        }\r\n                    });\r\n                };\r\n            }\r\n        }\r\n    }])\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:expander\r\n     * @description\r\n     * # expander\r\n     * \r\n     */\r\n    .directive('expander', [function () {\r\n        return {\r\n            templateUrl: 'components/expander/expander.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            scope: {\r\n                target: '@'\r\n            },\r\n            require: '^?accordion',\r\n            link: function postLink(scope, element, attrs, accordionCtrl) {\r\n                var target = scope.target;\r\n                scope.active = false;\r\n                scope.show = angular.isDefined(attrs.expanderShow) && attrs.expanderShow == 'true';\r\n                $(target).addClass(\"collapse\");\r\n                if (accordionCtrl != null) {\r\n                    accordionCtrl.addExpander(scope);\r\n                }\r\n                if (scope.show) {\r\n                    $(target).addClass(\"in\");\r\n                    scope.active = true;\r\n                }\r\n\r\n                element.click(function () {\r\n                    scope.active = !scope.active;\r\n                    if (accordionCtrl != null) {\r\n                        accordionCtrl.accordionOthers(scope);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }])\r\n    .directive('eayunToggle', ['$document', function ($document) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function postLink(scope, element, attrs) {\r\n                var click = false;//document\r\n                var hasClass = element.hasClass(scope.eayunToggle);\r\n                element.click(function () {\r\n                    element.toggleClass(attrs.eayunToggle);\r\n                    click = true;\r\n                    hasClass = !hasClass;\r\n                    if (hasClass) {\r\n                        $document.bind('click', documentClickBind);\r\n                    } else {\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                });\r\n\r\n                function documentClickBind() {\r\n                    if (!click) {\r\n                        hasClass = false;\r\n                        element.removeClass(attrs.eayunToggle);\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                    click = false;\r\n                };\r\n\r\n                scope.toggle = function () {\r\n                    element.click();\r\n                };\r\n\r\n                scope.$on('$destroy', function () {\r\n                    $document.unbind('click', documentClickBind);\r\n                });\r\n            }\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:progress\r\n     * @description\r\n     * \r\n     */\r\n    .directive('inputAdd', ['$document', function ($document) {\r\n        return {\r\n            templateUrl: 'components/inputadd/inputadd.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                maxLength: '=',\r\n                items: '=',\r\n                placeholder: '=',\r\n                pattern: '=',\r\n                className:'=',\r\n                onFocus: '&',\r\n                onBlur: '&',\r\n                name: '='\r\n            },\r\n            controller: ['$scope', function ($scope) {\r\n\r\n                if (!$scope.items) {\r\n                    $scope.items = [];\r\n                }\r\n\r\n                $scope.focus = function () {\r\n                    $scope.onFocus(\r\n                        {}\r\n                    );\r\n                };\r\n\r\n                $scope.blur = function () {\r\n                    $scope.onBlur(\r\n                        {}\r\n                    );\r\n                };\r\n\r\n                $scope.modify = function (index) {\r\n                    if (index == 0) {\r\n                        if ($scope.items.length > $scope.maxLength) return;\r\n                        $scope.items.push('');\r\n                    } else {\r\n                        $scope.items.splice(index, 1);\r\n                    }\r\n                };\r\n            }]\r\n        };\r\n    }]);\r\n\r\n\n/**\r\n * Created by ZHL on 2016/5/4.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunInputFilter\r\n     * @description\r\n     * # eayunInputFilter\r\n     * \r\n     */\r\n    .directive('eayunInputFilter', ['$document', '$timeout', function ($document, $timeout) {\r\n        return {\r\n            templateUrl: 'components/input/inputFilter.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                placeholder: '@',\r\n                filterData: '=',\r\n                maxlength:'=',\r\n                textField: '@'\r\n            },\r\n            require: 'ngModel',\r\n            link: function postLink(scope, element, attrs, ngModelCtrl) {\r\n                var map;\r\n                function getMap() {\r\n                    var map = {};\r\n                    angular.forEach(scope.filterData, function (option) {\r\n                        map[option[scope.textField]] = option;\r\n                    });\r\n                    return map;\r\n                };\r\n                function getKeys() {\r\n                    var i;\r\n                    scope.options = Object.keys(map);\r\n                    scope.keys = scope.$eval('options | filter:(text===null?undefined:text)');\r\n                    for (i = 0; i < scope.keys.length; i++) {\r\n                        if(map[scope.keys[i]].$$selected){\r\n                            scope.keys.splice(i,1);\r\n                            break;\r\n                        }\r\n                    }\r\n                };\r\n                function init() {\r\n                    map = getMap();\r\n                    getKeys();\r\n                };\r\n                init();\r\n\r\n                ngModelCtrl.$render = function () {\r\n                    scope.text = ngModelCtrl.$modelValue;\r\n                };\r\n                scope.$watch('text', function (value) {\r\n                    ngModelCtrl.$setViewValue(value);\r\n                    getKeys();\r\n                });\r\n                scope.$watch('filterData', function (value) {\r\n                    init();\r\n                });\r\n                scope.select = function (key, $event) {\r\n                    scope.showMenu = false;\r\n                    scope.text = key;\r\n                    $event.stopPropagation();\r\n                };\r\n                scope.open = function () {\r\n                    scope.showMenu = scope.disabled ? false : true;\r\n                };\r\n                attrs.$observe('disabled', function (value) {\r\n                    scope.disabled = !!value;\r\n                });\r\n                var documentClickBind = function () {\r\n                    scope.$apply(function () {\r\n                        scope.showMenu = false;\r\n                    });\r\n                };\r\n                scope.$watch('showMenu', function (value) {\r\n                    if (value) {\r\n                        $timeout(function () {\r\n                            $document.bind('click', documentClickBind);\r\n                        }, 0, false);\r\n                    } else {\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }]);\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:inputCheck\r\n     * @description\r\n     * # inputCheck\r\n     * view\r\n     */\r\n    .directive('inputCheck', [function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: 'ngModel',\r\n            scope: {\r\n                check: '&inputCheck'\r\n            },\r\n            link: function postLink(scope, element, attrs, ngModel) {\r\n                ngModel.$parsers.unshift(\r\n                    function (newValue) {\r\n                        var value = scope.check({value: ngModel.$modelValue, newValue: newValue});\r\n                        ngModel.$setViewValue(value);\r\n                        element.val(value);\r\n                        return value;\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    }]);\n/**\r\n * Created by eayun on 2016/4/24.\r\n */\r\n'use strict'\r\n\r\nangular.module('eayun.components')\r\n    .directive('eayunInputSelect', ['$timeout', '$document', function ($timeout, $document) {\r\n        return {\r\n            templateUrl: 'components/inputselect/inputselect.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            controller: function ($scope) {\r\n                $scope.options = new Array();\r\n                $scope.open = function () {\r\n                    $scope.showMenu = !$scope.showMenu;\r\n                };\r\n                var curOption = null;\r\n                var ngModelCtrl = '';\r\n                var api = {\r\n                    select: function (_option) {\r\n                        curOption && (curOption.selected = false);\r\n                        curOption = _option;\r\n                        curOption.selected = true;\r\n                        $scope.text = curOption.text;\r\n                        $scope.showMenu = false;\r\n                    },\r\n                    addOption: function (_text, _value, _selected) {\r\n                        var option = {\r\n                            text: _text,\r\n                            value: _value,\r\n                            selected: _selected\r\n                        };\r\n                        if (ngModelCtrl && curOption && (option.value == curOption.value)) {\r\n                            option.selected = true;\r\n                        }\r\n                        $scope.options.push(option);\r\n                        option.selected && this.select(option);\r\n                        return option;\r\n                    },\r\n                    getOptionByValue: function (_value) {\r\n                        if (typeof _value === 'undefined') {\r\n                            return {};\r\n                        }\r\n                        var option = null;\r\n                        angular.forEach($scope.options, function (_option) {\r\n                            if (_option.value == _value) {\r\n                                option = _option;\r\n                            }\r\n                        });\r\n                        return option || {value: null};\r\n                    },\r\n                    init: function (_ngModelCtrl) {\r\n                        ngModelCtrl = _ngModelCtrl;\r\n                        ngModelCtrl.$render = function () {\r\n                            //var option = api.getOptionByValue(ngModelCtrl.$modelValue);\r\n                            var option = {};\r\n                            option.value = ngModelCtrl.$modelValue;\r\n                            api.select(option);\r\n                        };\r\n                        ngModelCtrl.$parsers.unshift(\r\n                            function (_newValue) {\r\n                                var option = api.getOptionByValue(_newValue);\r\n                                if (option.value == null) {\r\n                                    option.value = '';\r\n                                    option.text = _newValue;\r\n                                }\r\n                                api.select(option);\r\n                                return _newValue;\r\n                            }\r\n                        );\r\n                        $scope.$watch('text', function (_newV, _oldV) {\r\n                            if (_newV !== _oldV) {\r\n                                ngModelCtrl.$setViewValue(_newV);\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n                return api;\r\n            },\r\n            scope: {\r\n                name: '@',\r\n                maxlength: '@',\r\n                placeholder: '@',\r\n                text: '@initialValue'\r\n            },\r\n            require: ['eayunInputSelect', '?ngModel'],\r\n            link: function postLink(scope, element, attrs, ctrls) {\r\n                var inputSelectCtrl = ctrls[0], ngModelCtrl = ctrls[1];\r\n                if (ngModelCtrl) {\r\n                    inputSelectCtrl.init(ngModelCtrl);\r\n                }\r\n                var documentClickBind = function () {\r\n                    scope.$apply(function () {\r\n                        scope.showMenu = false;\r\n                    });\r\n                };\r\n                scope.$watch('showMenu', function (_value) {\r\n                    if (_value) {\r\n                        $timeout(function () {\r\n                            $document.bind('click', documentClickBind);\r\n                        }, 0, false);\r\n                    } else {\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }])\r\n    .directive('eayunInputOption', [function () {\r\n        return {\r\n            template: '<li data-ng-hide=\"option.selected\"><a data-ng-bind=\"text\"></a></li>',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: false,\r\n            require: ['^eayunInputSelect', '?^ngModel'],\r\n            scope: {\r\n                text: '@'\r\n            },\r\n            link: function postLink(scope, element, attrs, ctrls) {\r\n                var inputSelectCtrl = ctrls[0], ngModelCtrl = ctrls[1];\r\n                var selected = angular.isDefined(attrs.selected);\r\n                scope.value = scope.$parent.$eval(attrs.value);\r\n                scope.option = inputSelectCtrl.addOption(scope.text, scope.value, selected);\r\n                element.click(function () {\r\n                    inputSelectCtrl.select(scope.option);\r\n                    ngModelCtrl && ngModelCtrl.$setViewValue(scope.option.value);\r\n                });\r\n                if (selected && ngModelCtrl) {\r\n                    ngModelCtrl.$setViewValue(scope.value);\r\n                }\r\n            }\r\n        };\r\n    }]);\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:ajaxValid\r\n     * @description\r\n     * # tree\r\n     * \r\n     */\r\n    .directive('eayunLoading', ['$timeout', '$parse', function ($timeout, $parse) {\r\n        return {\r\n            restrict: 'EA',\r\n            templateUrl: 'components/loading/loading.html',\r\n            controller: 'eayunLoadingCtrl'\r\n        };\r\n    }])\r\n    .controller('eayunLoadingCtrl', ['$rootScope', '$scope', '$document', function ($rootScope, $scope, $document) {\r\n        $rootScope.$on('loading.begin', function () {\r\n            $document.find('body').css('overflow','hidden');\r\n            $scope.show = true;\r\n        });\r\n        $rootScope.$on('loading.end', function () {\r\n            $document.find('body').css('overflow','');\r\n            $scope.show = false;\r\n        });\r\n    }]);\r\n\r\n\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunDialog\r\n     * @description\r\n     * # eayunDialog\r\n     * \r\n     */\r\n    .directive('eayunDialog', ['$templateRequest', '$compile', '$controller', '$injector', '$q', '$sce', function ($templateRequest, $compile, $controller, $injector, $q, $sce) {\r\n        return {\r\n            templateUrl: 'components/modal/dialog.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            link: function postLink(scope, element, attrs) {\r\n\r\n                var ctrlInstance, ctrlLocals = {};\r\n                var resolveIter = 0;\r\n                var modalOptions = scope.options;\r\n                var modalScope = scope;\r\n                var template = $('<div>' + scope.template + '</div>');\r\n                delete scope.options;\r\n                delete scope.template;\r\n                //HTMLscope\r\n                element.find('.eayun-modal-dialog').empty();\r\n                var form = template.find('form');\r\n                form.attr('name') || form.attr('name', 'dialogForm');\r\n                element.find('.eayun-modal-dialog').append($compile(template.html())(modalScope));\r\n                modalScope.dialogForm = modalScope[form.attr('name')];\r\n                /*function getTemplatePromise(options) {\r\n                 return options.template ? $q.when(options.template) :\r\n                 $templateRequest(angular.isFunction(options.templateUrl) ? (options.templateUrl)() : options.templateUrl);\r\n                 }*/\r\n\r\n                //resolves\r\n                function getResolvePromises(resolves) {\r\n                    var promisesArr = [];\r\n                    angular.forEach(resolves, function (value) {\r\n                        if (angular.isFunction(value) || angular.isArray(value)) {\r\n                            promisesArr.push($q.when($injector.invoke(value)));\r\n                        } else if (angular.isString(value)) {\r\n                            promisesArr.push($q.when($injector.get(value)));\r\n                        } else {\r\n                            promisesArr.push($q.when(value));\r\n                        }\r\n                    });\r\n                    return promisesArr;\r\n                }\r\n\r\n                if (modalOptions.controller) {\r\n                    //resolves\r\n                    $q.all(getResolvePromises(modalOptions.resolve)).then(function (values) {\r\n                        //controller\r\n                        ctrlLocals.$scope = modalScope;\r\n                        angular.forEach(modalOptions.resolve, function (value, key) {\r\n                            ctrlLocals[key] = values[resolveIter++];\r\n                        });\r\n                        //controller\r\n                        ctrlInstance = $controller(modalOptions.controller, ctrlLocals);\r\n                        //controller\r\n                        if (modalOptions.controllerAs) {\r\n                            if (modalOptions.bindToController) {\r\n                                angular.extend(ctrlInstance, modalScope);\r\n                            }\r\n                            modalScope[modalOptions.controllerAs] = ctrlInstance;\r\n                        }\r\n\r\n                        //scope\r\n                        var form = template.find('form');\r\n                        modalScope.dialogForm = modalScope[form.attr('name')];\r\n//          //HTMLscope\r\n//            element.find('.eayun-modal-dialog').empty();\r\n//            var form = template.find('form');\r\n//            form.attr('name') || form.attr('name','dialogForm');\r\n//            element.find('.eayun-modal-dialog').append($compile(template.html())(modalScope));\r\n//            modalScope.dialogForm = modalScope[form.attr('name')];\r\n\r\n                    });\r\n                }\r\n\r\n            }\r\n        };\r\n    }])\r\n    .controller('EayunModalCtrl', ['$scope', '$state', '$modalInstance', 'options', 'template', function ($scope, $state, $modalInstance, options, template) {\r\n        $scope.options = options;\r\n        $scope.template = template;\r\n        $scope.cancel = function () {\r\n            $modalInstance.dismiss('cancel');\r\n        };\r\n        $scope.ok = function (data) {\r\n            $modalInstance.close(data);\r\n        };\r\n        $scope.commit = function () {\r\n            $scope.ok(true);\r\n        };\r\n    }])\r\n    .controller('EayunConfirmCtrl', ['$scope', '$modalInstance', '$timeout', 'msg', 'type', 'timeout', '$sce',\r\n        function ($scope, $modalInstance, $timeout, msg, type, timeout, $sce) {\r\n            $scope.msg = $sce.trustAsHtml(msg);\r\n            $scope.type = type;\r\n            $scope.cancel = function () {\r\n                $modalInstance.dismiss('cancel');\r\n            };\r\n            $scope.ok = function () {\r\n                $modalInstance.close(true);\r\n            };\r\n            if (timeout) {\r\n                $timeout(function () {\r\n                    $scope.cancel();\r\n                }, timeout, false);\r\n            }\r\n        }]);\n'use strict';\r\n/**\r\n * @ngdoc service\r\n * @name eayunApp.commonservice\r\n * @description\r\n * # commonservice\r\n * eayun\r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc service\r\n     * @name eayunApp.eayunModal\r\n     * @description\r\n     * # eayunModal\r\n     * \r\n     */\r\n    .service('eayunModal', ['$modal', '$rootScope', function ($modal, $rootScope) {\r\n        var eayunModal = {};\r\n        var modalArray = [];\r\n\r\n        function addModal(modal) {\r\n            modal.result.then(function () {\r\n                modalArray.pop();\r\n            }, function () {\r\n                modalArray.pop();\r\n            });\r\n            modalArray.push(modal);\r\n        };\r\n\r\n        function dismissAll() {\r\n            angular.forEach(modalArray, function (modal) {\r\n                modal.opened.then(function () {\r\n                    modal.dismiss('dismissAll');\r\n                });\r\n            });\r\n        };\r\n\r\n        //  \r\n        eayunModal.extendOptions = function (options) {\r\n            var defaultOpt = {\r\n                title: '',\r\n                showBtn: true\r\n            };\r\n            return angular.extend(defaultOpt, options);\r\n        };\r\n\r\n        //  scope\r\n        eayunModal.getScope = function (options) {\r\n            var scope = (options.scope || $rootScope).$new();\r\n            scope.title = options.title;\r\n            scope.showBtn = options.showBtn;\r\n            scope.width = (options.width || 0);\r\n            return scope;\r\n        };\r\n\r\n        //$modal\r\n        eayunModal.open = function (options) {\r\n            options.backdrop = \"static\";\r\n            options.keyboard = false;\r\n            var modal = $modal.open(options);\r\n            addModal(modal);\r\n            return modal;\r\n        };\r\n\r\n        //\r\n        eayunModal.dialog = function (options) {\r\n            options = eayunModal.extendOptions(options);\r\n            var modal = $modal.open({\r\n                template: '<eayun-dialog></eayun-dialog>',\r\n                controller: 'EayunModalCtrl',\r\n                backdrop: \"static\",\r\n                scope: eayunModal.getScope(options),\r\n                resolve: {\r\n                    options: function () {\r\n                        return options;\r\n                    },\r\n                    template: function ($templateRequest) {\r\n                        return options.template ? $q.when(options.template) :\r\n                            $templateRequest(angular.isFunction(options.templateUrl) ? (options.templateUrl)() : options.templateUrl);\r\n\r\n                    }\r\n                }\r\n            });\r\n            addModal(modal);\r\n            return modal.result;\r\n        };\r\n\r\n        //\r\n        eayunModal.confirm = function (msg) {\r\n            var modal = $modal.open({\r\n                templateUrl: 'components/modal/confirm.html',\r\n                controller: 'EayunConfirmCtrl',\r\n                resolve: {\r\n                    msg: function () {\r\n                        return msg;\r\n                    },\r\n                    type: function () {\r\n                        return \"confirm\";\r\n                    },\r\n                    timeout: undefined\r\n                }\r\n            });\r\n            addModal(modal);\r\n            return modal.result;\r\n        };\r\n\r\n        //\r\n        eayunModal.alert = function (msg, type, timeout) {\r\n            var modal = $modal.open({\r\n                templateUrl: 'components/modal/alert.html',\r\n                controller: 'EayunConfirmCtrl',\r\n                resolve: {\r\n                    msg: function () {\r\n                        return msg;\r\n                    },\r\n                    type: function () {\r\n                        return type;\r\n                    },\r\n                    timeout: timeout\r\n                }\r\n            });\r\n            addModal(modal);\r\n            return modal.result;\r\n        };\r\n        eayunModal.successalert = function (msg) {\r\n            var modal = $modal.open({\r\n                templateUrl: 'components/modal/alert.html',\r\n                controller: 'EayunConfirmCtrl',\r\n                resolve: {\r\n                    msg: function () {\r\n                        return msg;\r\n                    },\r\n                    type: function () {\r\n                        return \"success\";\r\n                    },\r\n                    timeout: undefined\r\n                }\r\n            });\r\n            addModal(modal);\r\n            return modal.result;\r\n        };\r\n        return {\r\n            open: eayunModal.open,\r\n            dialog: eayunModal.dialog,\r\n            confirm: eayunModal.confirm,\r\n            info: function (msg, timeout) {\r\n                return eayunModal.alert(msg, 'info', timeout);\r\n            },\r\n            warning: function (msg, timeout) {\r\n                return eayunModal.alert(msg, 'warning', timeout);\r\n            },\r\n            error: function (msg, timeout) {\r\n                return eayunModal.alert(msg, 'error', timeout);\r\n            },\r\n            success: function (msg, timeout) {\r\n                return eayunModal.alert(msg, 'success', timeout);\r\n            },\r\n            dismissAll: function () {\r\n                dismissAll();\r\n            },\r\n            successalert: eayunModal.successalert\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2017/3/1.\r\n */\r\n'use strict';\r\nangular.module('eayun.components')\r\n    .directive('eayunProgressStep', ['$document', '$window', function ($document, $window) {\r\n        return {\r\n            templateUrl: 'components/progress/progress-step.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            controller: 'ProgressStepCtrl',\r\n            controllerAs: 'progress',\r\n            require: ['eayunProgressStep', 'ngModel'],\r\n            scope: {\r\n                maxValue: '=',\r\n                minValue: '=',\r\n                onValueChange: '&',\r\n                totalStep: '=',\r\n                precision: '=',\r\n                format: '=',\r\n                parse: '=',\r\n                text: '@'\r\n            },\r\n            link: function postLink(scope, element, attrs, ctrl) {\r\n                var progressCtrl = ctrl[0],\r\n                    ngModel = ctrl[1],\r\n                    increment = 1,\r\n                    i = 0,\r\n                    watch;\r\n                for (; i < scope.precision; i++) {\r\n                    increment = increment / 10;\r\n                }\r\n                scope.increment = scope.format ? scope.format(increment) : increment;\r\n\r\n                function mousemove(event) {\r\n                    scope.$apply(function () {\r\n                        var offsetLeft = element[0].getBoundingClientRect().left;\r\n                        progressCtrl.setLeft(Math.max(0, event.clientX - offsetLeft));\r\n                    });\r\n                };\r\n                function mouseup() {\r\n                    $(document).unbind('mousemove', mousemove);\r\n                    $(document).unbind('mouseup', mouseup);\r\n                };\r\n\r\n                scope.mousedown = function ($event) {\r\n                    $window.getSelection().removeAllRanges();\r\n                    $document.bind('mousemove', mousemove);\r\n                    $document.bind('mouseup', mouseup);\r\n                    $event.stopPropagation();\r\n                };\r\n\r\n                scope.click = function ($event) {\r\n                    var offsetLeft = element[0].getBoundingClientRect().left;\r\n                    progressCtrl.setLeft(Math.max(0, $event.clientX - offsetLeft));\r\n                };\r\n\r\n                scope.$on('$destroy', function () {\r\n                    mouseup();\r\n                    watch();\r\n                });\r\n\r\n                watch = scope.$watch(function () {\r\n                    return element.width();\r\n                }, function () {\r\n                    scope.width = parseInt(element.find(\".ey-form-progress-bg\").width() - element.find(\".ey-form-progress-bt\").width());\r\n                    progressCtrl.init(ngModel, scope);\r\n                });\r\n            }\r\n        };\r\n    }])\r\n    .controller('ProgressStepCtrl', ['$scope', '$timeout', function ($scope, $timeout) {\r\n        var option = {\r\n            step: 0,\r\n            totalStep: 0,\r\n            width: 0,\r\n            left: 0,\r\n            precision: 0\r\n        };\r\n\r\n        var ctrl = this,\r\n            fixed = 0.44444444,\r\n            ngModel,\r\n            timer,\r\n            scale;\r\n\r\n\r\n        ctrl.init = function (_ngModel, _option) {\r\n            ngModel = _ngModel;\r\n            option.__proto__ = _option.__proto__;\r\n            _option.__proto__ = option;\r\n            option = _option;\r\n            scale = option.totalStep / option.width;\r\n            var i = 0;\r\n            for (; i < option.precision; i++) {\r\n                fixed = fixed / 10;\r\n            }\r\n            ngModel.$render = function () {\r\n                ctrl.setValue(ngModel.$modelValue);\r\n            };\r\n            ngModel.$render();\r\n        };\r\n\r\n        function leftToStep(left) {\r\n            return left * scale;\r\n        };\r\n\r\n        function stepToLeft(step) {\r\n            return step / scale;\r\n        };\r\n\r\n        ctrl.setLeft = function (left) {\r\n            ctrl.setStep(leftToStep(Math.min(option.width, left)));\r\n        };\r\n\r\n        ctrl.getLeft = function () {\r\n            return option.left;\r\n        };\r\n\r\n        ctrl.setStep = function (step) {\r\n            option.step = Number((Math.min(option.totalStep, step) + fixed).toFixed(option.precision));\r\n            var value = ctrl.getValue(option.step);\r\n            if (option.minValue !== undefined && value < option.minValue) {\r\n                ctrl.setValue(option.minValue);\r\n                return;\r\n            } else if (option.maxValue !== undefined && value > option.maxValue) {\r\n                ctrl.setValue(option.maxValue);\r\n                return;\r\n            }\r\n            option.left = stepToLeft(option.step);\r\n            ctrl.value = value;\r\n            ngModel.$setViewValue(value);\r\n\r\n            if (timer) {\r\n                $timeout.cancel(timer);\r\n            }\r\n            timer = $timeout(function () {\r\n                ctrl.warpCallback('onValueChange', value);\r\n            }, 200);\r\n        };\r\n\r\n        ctrl.getStep = function () {\r\n            return option.step;\r\n        };\r\n\r\n        ctrl.setValue = function (value) {\r\n            ctrl.setStep(option.parse ? option.parse(value) : value);\r\n        };\r\n\r\n        ctrl.getValue = function (_step) {\r\n            var step = _step === undefined ? option.step : _step;\r\n            return option.format ? option.format(step) : step;\r\n        };\r\n\r\n        ctrl.warpCallback = function (callback, value, $event) {\r\n            ($scope[callback] || angular.noop)({\r\n                $value: value,\r\n                $event: $event\r\n            });\r\n        };\r\n    }])\r\n    .directive('eayunNumberInput', [function () {\r\n        return {\r\n            templateUrl: 'components/progress/number-input.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            controller: 'NumberInputCtrl',\r\n            controllerAs: 'ctrl',\r\n            require: ['eayunNumberInput', '^ngModel'],\r\n            scope: {\r\n                suffix: '=',\r\n                maxValue: '=',\r\n                minValue: '=',\r\n                increment: '=',\r\n                onValueChange: '&'\r\n            },\r\n            link: function postLink(scope, element, attrs, ctrl) {\r\n                var progressCtrl = ctrl[0],\r\n                    ngModel = ctrl[1];\r\n                progressCtrl.init(ngModel, scope);\r\n            }\r\n        };\r\n    }])\r\n    .controller('NumberInputCtrl', ['$scope', function ($scope) {\r\n        var option = {\r\n            maxValue: 0,\r\n            minValue: 0,\r\n            increment: 1\r\n        };\r\n\r\n        var ctrl = this,\r\n            watch,\r\n            ngModel;\r\n\r\n        ctrl.init = function (_ngModel, _option) {\r\n            ngModel = _ngModel;\r\n            option.__proto__ = _option.__proto__;\r\n            _option.__proto__ = option;\r\n            option = _option;\r\n            var _render = _ngModel.$render;\r\n            ngModel.$render = function () {\r\n                _render();\r\n                $scope.value = ngModel.$modelValue;\r\n            };\r\n        };\r\n\r\n        ctrl.warpCallback = function (callback, value, $event) {\r\n            ($scope[callback] || angular.noop)({\r\n                $value: value,\r\n                $event: $event\r\n            });\r\n        };\r\n\r\n        ctrl.up = function () {\r\n            $scope.value += option.increment;\r\n            if ($scope.value > option.maxValue) {\r\n                $scope.value = option.maxValue;\r\n            }\r\n            ctrl.warpCallback('onValueChange',  $scope.value);\r\n        };\r\n\r\n        ctrl.down = function () {\r\n            $scope.value -= option.increment;\r\n            if ($scope.value < option.minValue) {\r\n                $scope.value = option.minValue;\r\n            }\r\n            ctrl.warpCallback('onValueChange',  $scope.value);\r\n        };\r\n\r\n        ctrl.blur=function () {\r\n                if ($scope.value + '' == 'NaN') {\r\n                    $scope.value = 0;\r\n                }\r\n                if ($scope.value < option.minValue) {\r\n                    $scope.value = option.minValue;\r\n                }\r\n                if ($scope.value > option.maxValue) {\r\n                    $scope.value = option.maxValue;\r\n                }\r\n                ngModel.$setViewValue($scope.value);\r\n                ctrl.warpCallback('onValueChange', $scope.value);\r\n        };\r\n\r\n        watch = $scope.$watch('value', function (newValue, oldValue) {\r\n            if (newValue !== oldValue) {\r\n                newValue = Number(newValue);\r\n                if (newValue + '' == 'NaN') {\r\n                    newValue = option.minValue;\r\n                    $scope.value = option.minValue;\r\n                    ctrl.warpCallback('onValueChange', newValue);\r\n                }\r\n                if ($scope.value > option.maxValue) {\r\n                    $scope.value = option.maxValue;\r\n                }\r\n            }\r\n        });\r\n\r\n        $scope.$on('$destroy', function () {\r\n            watch();\r\n        });\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:progress\r\n     * @description\r\n     * # progress\r\n     * \r\n     */\r\n    .directive('eayunProgress', ['$document', '$window', function ($document, $window) {\r\n        return {\r\n            templateUrl: 'components/progress/progress.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            controller: 'ProgressCtrl',\r\n            controllerAs: 'progress',\r\n            require: ['eayunProgress', 'ngModel'],\r\n            scope: {\r\n                maxValue: '=',\r\n                minValue: '=',\r\n                onValueChange: '&',\r\n                text: '@'\r\n            },\r\n            link: function postLink(scope, element, attrs, ctrl) {\r\n                var progressCtrl = ctrl[0],\r\n                    ngModel = ctrl[1],\r\n                    mousedown = false,\r\n                    width = parseInt(element.width() * 0.7 - element.find(\".ey-form-progress-bt\").width());\r\n\r\n                function mousemove($event) {\r\n                    scope.$apply(function () {\r\n                        var width = parseInt(element.width() * 0.7 - element.find(\".ey-form-progress-bt\").width()),\r\n                            offsetLeft = element[0].getBoundingClientRect().left;\r\n                        var left = Math.min(width, Math.max(0, $event.clientX - offsetLeft));\r\n                        progressCtrl.move(left);\r\n                    });\r\n                };\r\n\r\n                function mouseup() {\r\n                    mousedown = false;\r\n                    $document.unbind('mousemove', mousemove);\r\n                };\r\n\r\n                scope.click = function ($event) {\r\n                    if (!mousedown) {\r\n                        var offsetLeft = element[0].getBoundingClientRect().left;\r\n                        progressCtrl.move(Math.min(width, Math.max(0, ($event.clientX - offsetLeft))));\r\n                    }\r\n                    mouseup()\r\n                };\r\n\r\n                scope.mousedown = function ($event) {\r\n                    $window.getSelection().removeAllRanges();\r\n                    mousedown = true;\r\n                    $document.bind('mousemove', mousemove);\r\n                };\r\n\r\n                scope.keypress = function ($event) {\r\n                    if($event.keyCode === 46){ // \r\n                        //ngModel.$setViewValue(parseInt(scope.value));\r\n                    }\r\n                };\r\n\r\n                scope.up = function(){\r\n                    scope.value++;\r\n                };\r\n\r\n                scope.down = function(){\r\n                    scope.value--;\r\n                };\r\n\r\n                scope.$on('$destroy', function () {\r\n                    $document.unbind('mousemove', mousemove);\r\n                    $document.unbind('mouseup', mouseup);\r\n                });\r\n\r\n                $document.bind('mouseup', mouseup);\r\n                progressCtrl.init(ngModel, width);\r\n            }\r\n        };\r\n    }])\r\n    .controller('ProgressCtrl', ['$scope', '$timeout', function ($scope, $timeout) {\r\n        var ctrl = this,\r\n            ngModel,\r\n            scale,\r\n            timer,\r\n            watch;\r\n\r\n        ctrl.init = function (_ngModel, width) {\r\n            ngModel = _ngModel;\r\n            scale = $scope.maxValue / width;\r\n            ngModel.$render = function () {\r\n                $scope.value = ngModel.$modelValue || '';\r\n                ctrl.left = $scope.value / scale;\r\n            };\r\n        };\r\n\r\n        ctrl.move = function (left) {\r\n            ctrl.left = left;\r\n            $scope.value = parseInt(ctrl.left * scale);\r\n            ngModel.$setViewValue($scope.value);\r\n        };\r\n\r\n        ctrl.warpCallback = function (callback, value, $event) {\r\n            ($scope[callback] || angular.noop)({\r\n                $value: value,\r\n                $event: $event\r\n            });\r\n        };\r\n\r\n        watch = $scope.$watch('value', function (newValue, oldValue) {\r\n            if (newValue !== oldValue) {\r\n                newValue = parseInt(newValue);\r\n                if(newValue+'' == 'NaN'){\r\n                    newValue = 0;\r\n                }\r\n                if (newValue < $scope.minValue) {\r\n                    ctrl.left = 0;\r\n                    newValue = $scope.minValue;\r\n                }\r\n                if (newValue > $scope.maxValue) {\r\n                    ctrl.left = parseInt($scope.maxValue / scale);\r\n                    newValue = $scope.maxValue;\r\n                }\r\n                ctrl.left = newValue / scale;\r\n                ngModel.$setViewValue(newValue);\r\n                $scope.value = newValue;\r\n\r\n                if (timer) {\r\n                    $timeout.cancel(timer);\r\n                }\r\n                timer = $timeout(function () {\r\n                    ctrl.warpCallback('onValueChange', newValue);\r\n                }, 200);\r\n\r\n            }\r\n        });\r\n\r\n        $scope.$on('$destroy', function () {\r\n            $timeout.cancel(timer);\r\n            watch();\r\n        });\r\n    }]);\r\n\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:ajaxValid\r\n     * @description\r\n     * # tree\r\n     * \r\n     */\r\n    .directive('eayunAutoRefresh', ['$timeout', '$parse', function ($timeout, $parse) {\r\n        return {\r\n            restrict: 'EA',\r\n            link: function postLink(scope, element, attrs) {\r\n                var timer;\r\n                var refresh = $parse(attrs.refresh)(scope);\r\n                var interval = $parse(attrs.interval)(scope);\r\n                interval = angular.isNumber(interval) ? parseInt(interval) : 5000;\r\n                var flush = function () {\r\n                    (refresh || angular.noop)();\r\n                    timer = $timeout(flush, interval);\r\n                };\r\n                timer = $timeout(flush, 0);\r\n                scope.$on('$destroy', function () {\r\n                    $timeout.cancel(timer);\r\n                });\r\n            }\r\n        };\r\n    }]);\r\n\r\n\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:ajaxValid\r\n     * @description\r\n     * # tree\r\n     * \r\n     */\r\n    .directive('eyAssertSameAs', [function () {\r\n        return {\r\n            restrict: 'A',\r\n            require: 'ngModel',\r\n            link: function postLink(scope, element, attrs, ngModel) {\r\n                var isSame = function (value) {\r\n                    var anotherValue = scope.$eval(attrs.eyAssertSameAs);\r\n                    return value === anotherValue;\r\n                };\r\n                ngModel.$validators.same = isSame;\r\n                scope.$watch(function () {\r\n                    return scope.$eval(attrs.eyAssertSameAs);\r\n                }, function () {\r\n                    ngModel.$setValidity('same', isSame(ngModel.$viewValue));\r\n                })\r\n            }\r\n        };\r\n    }]);\r\n\r\n\n/**\r\n * Created by ZHL on 2016/3/22.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    .filter('multiFilter', ['$filter', function ($filter) {\r\n        return function (data, text) {\r\n            if (angular.isArray(data) && typeof text === 'string') {\r\n                var select = text.split(',');\r\n                var array = $filter('filter')(data, select.pop());\r\n                var count = 0;\r\n                for (var i = 0; i < array.length; i++) {\r\n                    if ((',' + text).indexOf(',' + array[i] + ',') === -1) {\r\n                        count++;\r\n                        select.push(array[i]);\r\n                    }\r\n                }\r\n                return select;\r\n            } else {\r\n                return data;\r\n            }\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:search\r\n     * @description\r\n     * # search\r\n     * \r\n     */\r\n    .directive('eayunSearch', function () {\r\n        return {\r\n            templateUrl: 'components/search/search.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            controller: 'SearchCtrl',\r\n            controllerAs: 'search',\r\n            require: ['eayunSearch', 'ngModel'],\r\n            scope: {\r\n                options: '='\r\n            },\r\n            link: function postLink(scope, element, attrs, ctrl) {\r\n                var searchCtrl = ctrl[0],\r\n                    ngModel = ctrl[1];\r\n                searchCtrl.init(ngModel, scope.options.searchFn, scope.options.select,\r\n                    scope.options.series, scope.options.placeholder);\r\n            }\r\n        };\r\n    })\r\n    .controller('SearchCtrl', ['$injector', '$q', function ($injector, $q) {\r\n        var vm = this;\r\n        var ctrl = {\r\n            parseSelectArray: function (select) {\r\n                var selectArray = [];\r\n                angular.forEach(select, function (item) {\r\n                    angular.forEach(item, function (value, key) {\r\n                        selectArray.push({\r\n                            key: key,\r\n                            value: value\r\n                        });\r\n                    });\r\n                });\r\n                return selectArray;\r\n            },\r\n            series: {},\r\n            getSeries: function () {\r\n                return vm.showSelectBtn ? ctrl.series[vm.selected] : ctrl.series;\r\n            },\r\n            setSeries: function (_series) {\r\n                if (_series && Object.keys(_series).length > 0) {\r\n                    if (vm.showSelectBtn) {\r\n                        angular.forEach(_series, function (value, key) {\r\n                            ctrl.series[key] = {};\r\n                            ctrl.series[key].multi = !!value.multi;\r\n                            $q.when($injector.invoke(value.data)).then(function (data) {\r\n                                ctrl.series[key].data = data;\r\n                            });\r\n                        });\r\n                    } else {\r\n                        ctrl.series.multi = !!_series.multi;\r\n                        $q.when($injector.invoke(_series.data)).then(function (data) {\r\n                            ctrl.series.data = data;\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        vm.placeholder = \"\";\r\n        /**\r\n         *\r\n         * @param _ngModel\r\n         * @param _searchFn \r\n         * @param _select   \r\n         * @param _series     \r\n         * @param _checkbox checkbox\r\n         */\r\n        vm.init = function (_ngModel, _searchFn, _select, _series, _placeholder) {\r\n            vm.placeholder = _placeholder;\r\n            ctrl.ngModelCtrl = _ngModel;\r\n            ctrl.ngModelCtrl.$render = function () {\r\n                vm.value = ctrl.ngModelCtrl.$modelValue || '';\r\n            };\r\n            ctrl.searchFn = _searchFn;\r\n            if (_select && _select instanceof Array && _select.length > 0) {\r\n                vm.showSelectBtn = true;\r\n                vm.selectArray = ctrl.parseSelectArray(_select);\r\n                vm.selected = vm.selectArray[0].key;\r\n            }\r\n            ctrl.setSeries(_series);\r\n            if (_series) {\r\n                vm.hasFilter = true;\r\n                vm.showFilter = false;\r\n                vm.series = ctrl.getSeries();\r\n            }\r\n        };\r\n        vm.doSearch = function () {\r\n            var value = [];\r\n            if (vm.hasFilter && vm.series && vm.series.multi) {\r\n                //\r\n                value = vm.value.split(',');\r\n                value.pop();\r\n                vm.value = value.length === 0 ? '' : (value.join(',') + ',');\r\n            } else {\r\n                value.push(vm.value);\r\n            }\r\n            if (vm.showSelectBtn) {\r\n                ctrl.ngModelCtrl.$setViewValue({\r\n                    key: vm.selected,\r\n                    value: value.join(',')\r\n                });\r\n            } else {\r\n                ctrl.ngModelCtrl.$setViewValue(value.join(','));\r\n            }\r\n            ctrl.searchFn();\r\n        };\r\n        vm.select = function (item) {\r\n            if (vm.series.multi) {\r\n                //\r\n                if ((',' + vm.value).indexOf(',' + item + ',') !== -1) {\r\n                    //    \r\n                    vm.value = (',' + vm.value).replace(',' + item + ',', ',').replace(',','');\r\n                } else {\r\n                    //    \r\n                    var array = vm.value.split(',');\r\n                    var str = array.pop();\r\n                    array.push(item);\r\n                    array.push(str);\r\n                    vm.value = array.join(',');\r\n                }\r\n            } else {\r\n                //\r\n                vm.showFilter = false;\r\n                vm.value = item;\r\n            }\r\n        };\r\n        vm.changeSelect = function () {\r\n            if (vm.hasFilter) {\r\n                vm.series = ctrl.getSeries();\r\n            }\r\n            vm.value = \"\";\r\n        };\r\n    }])\r\n    .directive('eayunSearchText', function () {\r\n        return {\r\n            templateUrl: 'components/search/text.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                value: '=',\r\n                placeholder: '@',\r\n                search: '&'\r\n            },\r\n            link: function postLink(scope, element, attrs, ctrl) {\r\n                scope.warpCallback = function (callback, value, $event) {\r\n                    (scope[callback] || angular.noop)({\r\n                        $value: value,\r\n                        $event: $event\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    });\r\n\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunTable\r\n     * @description\r\n     * # eayunTable\r\n     * \r\n     */\r\n    .directive('eayunTable', ['tableService', function (tableService) {\r\n        var eayunTable = {\r\n            template: '<div ng-transclude></div>',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            controller: ['$scope', function ($scope) {\r\n                var tableCtrl = this;\r\n                tableCtrl.api = {\r\n                    draw: function () {\r\n                        tableCtrl.api.isLoading = true;\r\n                        tableService.query(tableCtrl.getSource(), tableCtrl.getParam()).then(function (data) {\r\n                            $scope.result = data;\r\n                            tableCtrl.api.isLoading = false;\r\n                        },function(){\r\n                            tableCtrl.api.isLoading = false;\r\n                        });\r\n                    },\r\n                    setSource: function (source) {\r\n                        $scope.ajaxSource = source;\r\n                    }\r\n                };\r\n                tableCtrl.getParam = function () {\r\n                    return typeof $scope.param === 'function' ? $scope.param() : {};\r\n                };\r\n                tableCtrl.getSource = function () {\r\n                    return $scope.ajaxSource;\r\n                };\r\n                tableCtrl.setResult = function (result) {\r\n                    $scope.result = result;\r\n                };\r\n                $scope.api = tableCtrl.api;\r\n\r\n            }],\r\n            controllerAs:'table',\r\n            scope: {api: '=api', ajaxSource: '=ajaxSource', param: '=param', result: '=result'},\r\n            link: function postLink(scope, element, attrs) {\r\n                if (scope.ajaxSource && element.find('eayun-table-page').length == 0) {\r\n                    scope.api.draw();\r\n                }\r\n                if (!scope.ajaxSource) {\r\n                    scope.$watch('ajaxSource', function (a) {\r\n                        var tableCtrl = eayunTable.controller[eayunTable.controller.length - 1](scope);\r\n                        scope.$broadcast('a', tableCtrl);\r\n                        if (element.find('eayun-table-page').length == 0) {\r\n                            scope.api.draw();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        return eayunTable;\r\n    }])\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunTablePage\r\n     * @description\r\n     * # eayunTablePage\r\n     * \r\n     */\r\n    .directive('eayunTablePage', ['tableService', '$timeout', function (tableService, $timeout) {\r\n        return {\r\n            templateUrl: 'components/table/tablepage.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            require: '^eayunTable',\r\n            scope: false,\r\n            link: function postLink(scope, element, attrs, tableCtrl) {\r\n                scope.$on('a', function (event, tableCtrl) {\r\n                    tableCtrl.api.draw = function () {\r\n                        pageApi.first();\r\n                    };\r\n                    tableCtrl.api.refresh = function () {\r\n                        pageApi.goto(options.pageNumber);\r\n                    };\r\n                    tableCtrl.api.options = options;\r\n                    tableCtrl.api.draw();\r\n                });\r\n                var options = {\r\n                    pageSize: attrs.pageSize || 10,//\r\n                    pageNumber: 1,//\r\n                    totalPage: 1,//\r\n                    $$totalCount: 1,//\r\n                    params: {}//\r\n                };\r\n                scope.buttons = [2, 3, 4, 5];\r\n                var changeButtons = function () {\r\n                    if (options.pageNumber < 5) {\r\n                        scope.buttons = [2, 3, 4, 5];\r\n                    } else if (options.pageNumber <= (options.totalPage - 3)) {\r\n                        scope.buttons = [options.pageNumber - 1, options.pageNumber, options.pageNumber + 1, options.pageNumber + 2];\r\n                    } else if (options.pageNumber > (options.totalPage - 3)) {\r\n                        scope.buttons = [options.totalPage - 4, options.totalPage - 3, options.totalPage - 2, options.totalPage - 1];\r\n                    } else if (options.pageNumber == scope.buttons[0] || options.pageNumber == scope.buttons[3]) {\r\n                        scope.buttons = [options.pageNumber - 1, options.pageNumber, options.pageNumber + 1, options.pageNumber + 2];\r\n                    }\r\n                };\r\n                var pageApi = {\r\n                    draw: function () {\r\n                        tableCtrl.api.isLoading = true;\r\n                        options.params = tableCtrl.getParam();\r\n                        if (options.params && options.params.$showLoading) {\r\n                            options.$showLoading = true;\r\n                            delete options.params.$showLoading;\r\n                        }\r\n                        if (tableCtrl.getSource()) {\r\n                            tableService.queryPage(tableCtrl.getSource(), options).then(function (page) {\r\n                                scope.isLoad = true;\r\n                                tableCtrl.api.isLoading = false;\r\n                                options.$$totalCount = page.totalCount;\r\n                                options.totalPage = (page.totalCount == 0 ? 1 : Math.ceil(page.totalCount / (null == page.pageSize || 0 == page.pageSize ? options.pageSize : page.pageSize)));//,1\r\n                                tableCtrl.setResult(page.result);\r\n                                if (options.pageNumber > options.totalPage)\r\n                                    pageApi.goto(options.totalPage);\r\n                            },function(){\r\n                                tableCtrl.api.isLoading = false;\r\n                            });\r\n                        }\r\n                    },\r\n                    goto: function (index) {\r\n                        if (angular.isString(index)) {\r\n                            index = parseInt(index);\r\n                        }\r\n                        options.pageNumber = index;\r\n                        if (index < 1)\r\n                            options.pageNumber = 1;\r\n                        if (index > options.totalPage)\r\n                            options.pageNumber = options.totalPage;\r\n                        changeButtons();\r\n                        this.draw();\r\n                    },\r\n                    first: function () {\r\n                        this.goto(1);\r\n                    },\r\n                    next: function () {\r\n                        this.goto(options.pageNumber + 1);\r\n                    },\r\n                    back: function () {\r\n                        this.goto(options.pageNumber - 1);\r\n                    },\r\n                    last: function () {\r\n                        this.goto(options.totalPage);\r\n                    }\r\n                };\r\n                tableCtrl.api.draw = function () {\r\n                    pageApi.first();\r\n                };\r\n                tableCtrl.api.refresh = function () {\r\n                    pageApi.goto(options.pageNumber);\r\n                };\r\n                tableCtrl.api.options = options;\r\n                tableCtrl.api.draw();\r\n                scope.pageApi = pageApi;\r\n                scope.options = options;\r\n                scope.isLoad = false;\r\n                scope.canShowButton = function (value) {\r\n                    return value > 1 && value < options.totalPage;\r\n                };\r\n                scope.isCurrent = function (num) {\r\n                    return options.pageNumber === num;\r\n                };\r\n                scope.number = '';\r\n                var valid = /^[1-9]+[0-9]*]*$/;\r\n                scope.$watch('number', function (newV, oldV) {\r\n                    scope.number = oldV;\r\n                    if ((newV > 0 && newV <= options.totalPage && valid.test(newV)) || newV == '') {\r\n                        scope.number = newV;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }]);\n'use strict';\r\n/**\r\n * @ngdoc service\r\n * @name eayunApp.components.tableService\r\n * @description\r\n * # tableService\r\n * tableService\r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc service\r\n     * @name eayunApp.tableService\r\n     * @description\r\n     * # tableService\r\n     * tableService\r\n     */\r\n    .service('tableService', ['$http', '$q', function ($http, $q) {\r\n        var tableService = {};\r\n\r\n        tableService.query = function (source, data) {\r\n            if (source) {\r\n                return $http.post(source, data).then(function (response) {\r\n                    return response.data;\r\n                });\r\n            } else {\r\n                return $q.reject();\r\n            }\r\n        };\r\n\r\n        tableService.queryPage = function (source, data) {\r\n            if (source) {\r\n                return $http.post(source, data).then(function (response) {\r\n                    return response.data;\r\n                });\r\n            } else {\r\n                return $q.reject();\r\n            }\r\n        };\r\n\r\n        return {\r\n            query: tableService.query,\r\n            queryPage: tableService.queryPage\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunSelect\r\n     * @description\r\n     * # eayunSelect\r\n     * \r\n     */\r\n    .directive('eayunSelect', ['$document', '$timeout', function ($document, $timeout) {\r\n        return {\r\n            templateUrl: function (element, attrs) {\r\n                return attrs.type === 'btn' ? 'components/select/selectbtn.html' : 'components/select/select.html';\r\n            },\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            controller: function ($scope, $log) {\r\n                $scope.options = new Array();\r\n                $scope.selectFlag = false;\r\n                $scope.open = function () {\r\n                    $scope.showMenu = $scope.disabled ? false : !$scope.showMenu;\r\n                };\r\n                var getShowText = function (text) {\r\n                    if (!text) {\r\n                        return '';\r\n                    } else if ($scope.showLength && text.length > $scope.showLength) {\r\n                        return text.substr(0, $scope.showLength) + '...';\r\n                    } else if ($scope.showFormat) {\r\n                        return $scope.showFormat({text: text});\r\n                    }\r\n                    return text;\r\n                };\r\n                var curOption = null;\r\n                var ngModelCtrl;\r\n                var api = {\r\n                    select: function (option) {\r\n                        curOption && (curOption.selected = false);\r\n                        curOption = option;\r\n                        if (curOption.value != 'stay') {\r\n                            curOption.selected = true;\r\n                            $scope.text = getShowText(curOption.text);\r\n                            $scope.textTip = curOption.text;\r\n                        }\r\n                        $scope.showMenu = false;\r\n                        $scope.selectFlag = true;\r\n                    },\r\n                    addOption: function (value_, text_, selected_) {\r\n                        var option = {\r\n                            value: value_,\r\n                            text: text_,\r\n                            selected: selected_\r\n                        };\r\n                        if (ngModelCtrl && curOption && (option.value == curOption.value)) {\r\n                            option.selected = true;\r\n                            ngModelCtrl.$setValidity('outRange', true);\r\n                        }\r\n                        $scope.options.push(option);\r\n                        option.selected && this.select(option);\r\n                        return option;\r\n                    },\r\n                    removeOption: function (_option) {\r\n                        for (var i = 0; i <= $scope.options.length; i++) {\r\n                            if (_option === $scope.options[i]) {\r\n                                $scope.options.splice(i, 1);\r\n                                break;\r\n                            }\r\n                        }\r\n                    },\r\n                    getOptionByValue: function (value) {\r\n                        if (typeof value === \"undefined\")\r\n                            return {};\r\n                        var option = null;\r\n                        angular.forEach($scope.options, function (option_) {\r\n                            if (option_.value == value) {\r\n                                option = option_;\r\n                            }\r\n                        });\r\n                        return option || {value: null};\r\n                    },\r\n                    init: function (ngModelCtrl_) {\r\n                        ngModelCtrl = ngModelCtrl_;\r\n                        ngModelCtrl.$render = function () {\r\n                            var option = api.getOptionByValue(ngModelCtrl.$modelValue);\r\n                            ngModelCtrl.$setValidity('outRange', option.value !== null);\r\n                            //if (option.value === null)\r\n                            //  $log.error(ngModelCtrl.$modelValue, '');\r\n                            option.value = ngModelCtrl.$modelValue;\r\n                            api.select(option);\r\n                        };\r\n                        ngModelCtrl.$parsers.unshift(\r\n                            function (newValue) {\r\n                                var option = api.getOptionByValue(newValue);\r\n                                ngModelCtrl.$setValidity('outRange', option.value !== null);\r\n                                return newValue;\r\n                            }\r\n                        );\r\n                    }\r\n                };\r\n                return api;\r\n            },\r\n            scope: {placeholder: '@placeholder', showFormat: '&?'},\r\n            require: ['eayunSelect', '?ngModel'],\r\n            link: function postLink(scope, element, attrs, ctrls) {\r\n                var selectCtrl = ctrls[0], ngModelCtrl = ctrls[1];\r\n                if (ngModelCtrl) {\r\n                    selectCtrl.init(ngModelCtrl);\r\n                }\r\n                if (attrs.showLength) {\r\n                    var length = parseInt(attrs.showLength);\r\n                    scope.showLength = length ? length : undefined;\r\n                }\r\n\r\n                var documentClickBind = function () {\r\n                    scope.$apply(function () {\r\n                        scope.showMenu = false;\r\n                    });\r\n                };\r\n\r\n                scope.$watch('showMenu', function (value) {\r\n                    if (value) {\r\n                        $timeout(function () {\r\n                            $document.bind('click', documentClickBind);\r\n                        }, 0, false);\r\n                    } else {\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                });\r\n                attrs.$observe('disabled', function (value) {\r\n                    scope.disabled = !!value;\r\n                });\r\n            }\r\n        };\r\n    }])\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunOption\r\n     * @description\r\n     * # eayunOption\r\n     * \r\n     */\r\n    .directive('eayunOption', [function () {\r\n        return {\r\n            template: '<li data-ng-hide=\"option.selected\" data-ng-bind=\"text\"></li>',\r\n            restrict: 'EA',\r\n            require: ['^eayunSelect', '?^ngModel'],\r\n            scope: {\r\n                text: '@'\r\n            },\r\n            replace: true,\r\n            transclude: false,\r\n            link: function postLink(scope, element, attrs, ctrls) {\r\n                var selectCtrl = ctrls[0], ngModelCtrl = ctrls[1];\r\n                var selected = angular.isDefined(attrs.selected);\r\n                scope.value = scope.$parent.$eval(attrs.value);\r\n                scope.option = selectCtrl.addOption(scope.value, scope.text, selected);\r\n                element.click(function () {\r\n                    selectCtrl.select(scope.option);\r\n                    ngModelCtrl && ngModelCtrl.$setViewValue(scope.option.value);\r\n                });\r\n                if (selected && ngModelCtrl)\r\n                    ngModelCtrl.$setViewValue(scope.value);\r\n                scope.$on('$destroy', function () {\r\n                    selectCtrl.removeOption(scope.option);\r\n                });\r\n            }\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunSelect\r\n     * @description\r\n     * # eayunSelect\r\n     * \r\n     */\r\n    .directive('eayunSelectInput', ['$document', '$timeout', function ($document, $timeout) {\r\n        return {\r\n            templateUrl: 'components/select/selectInput.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                placeholder: '@',\r\n                optionsData: '=',\r\n                textField: '@',\r\n                valueField: '@',\r\n                firstKey: '@'\r\n            },\r\n            controller: 'eayunSelectCtrl',\r\n            require: 'ngModel',\r\n            /*link: function postLink(scope, element, attrs, ngModelCtrl) {\r\n             /!* keys for show *!/\r\n             scope.curKeys = [];\r\n             /!* options which has been selected or not *!/\r\n             scope.curSelected = {};\r\n             /!* K-V *!/\r\n             var curOptions = {};\r\n             scope.optionClick = function ($option, $event) {\r\n             scope.showMenu = false;\r\n             ngModelCtrl.$setViewValue(scope.value);\r\n             };\r\n             /!* override the select function *!/\r\n             scope.select = function (key, $event) {\r\n             scope.clear(key);\r\n             scope.curSelected[key] = true;\r\n             scope.text = key;\r\n             scope.value = curOptions[key];\r\n             (scope.optionClick || angular.noop)({\r\n             $option: key,\r\n             $event: $event\r\n             });\r\n             };\r\n             /!* override the clear function *!/\r\n             scope.clear = function(key){\r\n             scope.curSelected = [];\r\n             scope.value = null;\r\n             };\r\n\r\n             scope.open = function ($event) {\r\n             scope.showMenu = scope.disabled ? false : true;\r\n             };\r\n\r\n             attrs.$observe('disabled', function (value) {\r\n             scope.disabled = !!value;\r\n             });\r\n             /!* attrs cant-input determine the select-input component whether can be input to change its model value *!/\r\n             scope.change = function () {\r\n             if (!scope.cantInput) {\r\n             ngModelCtrl.$setViewValue(scope.text);\r\n             } else {\r\n             ngModelCtrl.$setViewValue(scope.value);\r\n             }\r\n             };\r\n\r\n             var documentClickBind = function () {\r\n             scope.$apply(function () {\r\n             scope.showMenu = false;\r\n             });\r\n             };\r\n\r\n             scope.$watch('showMenu', function (value) {\r\n             if (value) {\r\n             $timeout(function () {\r\n             $document.bind('click', documentClickBind);\r\n             }, 0, false);\r\n             } else {\r\n             $document.unbind('click', documentClickBind);\r\n             }\r\n             });\r\n\r\n             scope.$watch('optionsData', function (value) {\r\n             ngModelCtrl.$render();\r\n             });\r\n\r\n             ngModelCtrl.$render = function () {\r\n             angular.forEach(scope.optionsData, function (option) {\r\n             curOptions[option[scope.textField]] = option[scope.valueField];\r\n             scope.curKeys.push(option[scope.textField]);\r\n             if (option[scope.valueField] == ngModelCtrl.$modelValue) {\r\n             scope.select(option[scope.textField]);\r\n             }\r\n             })\r\n             };\r\n             }*/\r\n            link: function postLink(scope, element, attrs, ngModelCtrl) {\r\n                var map;\r\n\r\n                function getMap() {\r\n                    var map = {};\r\n                    angular.forEach(scope.optionsData, function (option) {\r\n                        map[option[scope.textField]] = option;\r\n                    });\r\n                    return map;\r\n                };\r\n                function getKeys() {\r\n                    var i;\r\n                    scope.options = Object.keys(map);\r\n                    scope.keys = scope.$eval('options | filter:text');\r\n                    for (i = 0; i < scope.keys.length; i++) {\r\n                        if(map[scope.keys[i]].$$selected){\r\n                            scope.keys.splice(i,1);\r\n                            break;\r\n                        }\r\n                    }\r\n                };\r\n                function init() {\r\n                    map = getMap();\r\n                    getKeys();\r\n                };\r\n                init();\r\n                scope.open = function () {\r\n                    scope.showMenu = scope.disabled ? false : true;\r\n                };\r\n                scope.optionClick = function ($option, $event) {\r\n                    scope.showMenu = false;\r\n                    ngModelCtrl.$setViewValue(scope.value);\r\n                    getKeys();\r\n                };\r\n                scope.click = function (key) {\r\n                    scope.select(map[key]);\r\n                };\r\n                scope.change = function () {\r\n                    ngModelCtrl.$setViewValue(scope.value);\r\n                    scope.open();\r\n                    getKeys();\r\n                };\r\n\r\n                attrs.$observe('disabled', function (value) {\r\n                    scope.disabled = !!value;\r\n                });\r\n                var documentClickBind = function () {\r\n                    scope.$apply(function () {\r\n                        scope.showMenu = false;\r\n                    });\r\n                };\r\n                scope.$watch('showMenu', function (value) {\r\n                    if (value) {\r\n                        $timeout(function () {\r\n                            $document.bind('click', documentClickBind);\r\n                        }, 0, false);\r\n                    } else {\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                });\r\n\r\n                scope.$watch('optionsData', function (value) {\r\n                    ngModelCtrl.$render();\r\n                    init();\r\n                });\r\n\r\n                ngModelCtrl.$render = function () {\r\n                    angular.forEach(scope.optionsData, function (option) {\r\n                        if (option[scope.valueField] == ngModelCtrl.$modelValue) {\r\n                            scope.select(option);\r\n                        }\r\n                    })\r\n                };\r\n            }\r\n        };\r\n    }])\r\n    .controller('eayunSelectCtrl', ['$scope', function ($scope) {\r\n        var curOption = {};\r\n        $scope.select = function (option, $event) {\r\n            $scope.clear();\r\n            option.$$selected = true;\r\n            curOption = option;\r\n            $scope.text = curOption[$scope.textField];\r\n            $scope.value = curOption[$scope.valueField];\r\n            $event && $event.stopPropagation();\r\n\r\n            ($scope.optionClick || angular.noop)({\r\n                $option: option,\r\n                $event: $event\r\n            });\r\n\r\n        };\r\n        $scope.clear = function () {\r\n            curOption.$$selected = false;\r\n            $scope.value = null;\r\n            curOption = {};\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunSelect\r\n     * @description\r\n     * # eayunSelect\r\n     * \r\n     */\r\n    .directive('eayunSelectTree', ['$document', '$timeout', function ($document, $timeout) {\r\n        return {\r\n            templateUrl: 'components/select/selectTree.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                placeholder: '@',\r\n                optionsData: '=',\r\n                textField: '@',\r\n                valueField: '@'\r\n            },\r\n            controller: 'eayunSelectCtrl',\r\n            require: 'ngModel',\r\n            link: function postLink(scope, element, attrs, ngModelCtrl) {\r\n                scope.optionClick = function (data) {\r\n                    scope.showMenu = false;\r\n                    ngModelCtrl.$setViewValue(data.$option[scope.valueField]);\r\n                };\r\n\r\n                scope.open = function ($event) {\r\n                    scope.showMenu = scope.disabled ? false : true;\r\n                    $event.stopPropagation();\r\n                };\r\n\r\n                attrs.$observe('disabled', function (value) {\r\n                    scope.disabled = !!value;\r\n                });\r\n\r\n                var documentClickBind = function () {\r\n                    scope.$apply(function () {\r\n                        scope.showMenu = false;\r\n                    });\r\n                };\r\n                scope.$watch('showMenu', function (value) {\r\n                    if (value) {\r\n                        $timeout(function () {\r\n                            $document.bind('click', documentClickBind);\r\n                        }, 0, false);\r\n                    } else {\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                });\r\n\r\n                scope.$watch('optionsData', function (value) {\r\n                    ngModelCtrl.$render();\r\n                });\r\n                ngModelCtrl.$render = function () {\r\n                    var item = getTreeItemByValue(ngModelCtrl.$modelValue, scope.valueField);\r\n                    if (item) {\r\n                        scope.select(item);\r\n                    }\r\n                };\r\n                var isLeaf = function (item) {\r\n                    return !item.children || !item.children.length;\r\n                };\r\n\r\n                var getTreeItemByValue = function (value, valueField) {\r\n                    var items = [];\r\n                    items = items.concat(scope.optionsData);\r\n                    var curItem;\r\n                    while (items.length > 0) {\r\n                        curItem = items.pop();\r\n                        if (!curItem) {\r\n                            continue;\r\n                        }\r\n                        if (curItem && curItem[valueField] == value) {\r\n                            return curItem;\r\n                        } else if (!isLeaf(curItem)) {\r\n                            items = items.concat(curItem.children)\r\n                        }\r\n                    }\r\n\r\n                };\r\n            }\r\n        };\r\n    }]);\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:tabs\r\n     * @description\r\n     * # tabs\r\n     * \r\n     */\r\n    .directive('tabs', [function () {\r\n        return {\r\n            template: '<nav><ul ng-transclude class=\"nav\" role=\"tablist\"></ul></nav>',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            link: function postLink(scope, element, attrs) {\r\n                element.removeClass(attrs.class);\r\n                element.children().addClass(attrs.class);\r\n            }\r\n        };\r\n    }])\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:tab\r\n     * @description\r\n     * # tab\r\n     * \r\n     */\r\n    .directive('tab', [function () {\r\n        return {\r\n            template: '<li role=\"presentation\"><a ng-transclude role=\"tab\"></a></li>',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            link: function postLink(scope, element, attrs) {\r\n\r\n            }\r\n        };\r\n    }])\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:tabUnderline\r\n     * @description\r\n     * # tabUnderline\r\n     * --\r\n     */\r\n    .directive('tabUnderline', [function () {\r\n        return {\r\n            template: '<li role=\"presentation\"><a ng-transclude role=\"tab\"></a><div class=\"triangle\"></div></li>',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            link: function postLink(scope, element) {\r\n\r\n            }\r\n        };\r\n    }]);\n'use strict';\r\n/**\r\n * @ngdoc service\r\n * @name eayunApp.commonservice\r\n * @description\r\n * # commonservice\r\n * eayun\r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc service\r\n     * @name liadApp.toast\r\n     * @description\r\n     * # toast\r\n     * \r\n     */\r\n    .service('toast', ['$modal', function ($modal) {\r\n        var toast = function (type, msg) {\r\n            return $modal.open({\r\n                templateUrl: 'components/toast/toast.html',\r\n                backdrop: false,\r\n                controller: 'toastCtrl',\r\n                resolve: {\r\n                    msg: function () {\r\n                        return msg;\r\n                    },\r\n                    type: function () {\r\n                        return type;\r\n                    }\r\n                }\r\n            }).result;\r\n        };\r\n\r\n        return {\r\n            success: function (msg) {\r\n                toast('success', msg);\r\n            },\r\n            error: function (msg) {\r\n                toast('error', msg);\r\n            },\r\n            running: function (msg) {\r\n                toast('running', msg);\r\n            }\r\n        };\r\n    }])\r\n\r\n    /**\r\n     * @ngdoc function\r\n     * @name eayunApp.controller:toastCtrl\r\n     * @description\r\n     * # toastCtrl\r\n     * toast\r\n     */\r\n    .controller('toastCtrl', ['$scope', '$modalInstance', '$timeout', 'msg', 'type', function ($scope, $modalInstance, $timeout, msg, type) {\r\n        $scope.msg = msg;\r\n        $scope.type = type;\r\n        $scope.isIE = (\"ActiveXObject\" in window);//IE\r\n        $timeout(function () {\r\n            $modalInstance.close(true);\r\n        }, 2000, false);\r\n\r\n    }]);\n/**\r\n * Created by ZHL on 2017/1/18.\r\n */\r\n'use strict';\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * --\r\n */\r\nangular.module('eayun.components')\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive:ajaxValid\r\n * @description\r\n * # tree\r\n * \r\n */\r\n    .directive('wysiwyg', ['$q', '$log', function ($q, $log) {\r\n        return {\r\n            restrict: 'E',\r\n            template: '<div class=\"wysiwyg\"></div>',\r\n            scope: {\r\n                content: '='\r\n            },\r\n            link: function postLink(scope, element, attrs) {\r\n                var trumbowyg = $(element.find('.wysiwyg')).trumbowyg({\r\n                    lang: 'zh_cn',\r\n                    btns: [\r\n                        ['viewHTML'],\r\n                        ['formatting'],\r\n                        'btnGrp-semantic',\r\n                        ['superscript', 'subscript'],\r\n                        ['link'],\r\n                        ['insertImage'],\r\n                        'btnGrp-justify',\r\n                        'btnGrp-lists',\r\n                        ['horizontalRule'],\r\n                        ['removeformat']\r\n                    ]\r\n                });\r\n                trumbowyg.on('tbwblur',function() {\r\n                    scope.$apply(function () {\r\n                        scope.content = trumbowyg.trumbowyg('html');\r\n                    });\r\n                });\r\n                trumbowyg.trumbowyg('html',scope.content);\r\n            }\r\n        };\r\n    }]);\r\n\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:ajaxValid\r\n     * @description\r\n     * # tree\r\n     * \r\n     */\r\n    .directive('treeView', ['$q', '$log', function ($q, $log) {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'components/tree/treeView.html',\r\n            scope: {\r\n                treeData: '=',\r\n                canChecked: '=',\r\n                textField: '@',\r\n                itemClicked: '&',\r\n                itemCheckedChanged: '&',\r\n                itemTemplateUrl: '@',\r\n                expendLevel: '='\r\n            },\r\n            controller: 'TreeCtrl'\r\n        };\r\n    }])\r\n    .controller('TreeCtrl', ['$scope', 'eayunTreeService', function ($scope, eayunTreeService) {\r\n        $scope.itemExpended = function (item, $event) {\r\n            item.$$isExpend = !item.$$isExpend;\r\n            $event.stopPropagation();\r\n        };\r\n\r\n        $scope.getItemIcon = function (item) {\r\n            var isLeaf = $scope.isLeaf(item);\r\n\r\n            if (isLeaf) {\r\n                return 'glyphicon glyphicon-leaf';\r\n            }\r\n\r\n            return item.$$isExpend ? 'glyphicon glyphicon-minus' : 'glyphicon glyphicon-plus';\r\n        };\r\n\r\n        $scope.isLeaf = function (item) {\r\n            return !item.children || !item.children.length;\r\n        };\r\n\r\n        $scope.$watch('treeData', function (data) {\r\n            if (data) {\r\n                eayunTreeService.expendToLevel(data, $scope.expendLevel === undefined ? 1 : $scope.expendLevel);\r\n            }\r\n        });\r\n\r\n        $scope.warpCallback = function (callback, item, $event) {\r\n            ($scope[callback] || angular.noop)({\r\n                $item: item,\r\n                $event: $event\r\n            });\r\n        };\r\n    }])\r\n    .service('eayunTreeService', [function () {\r\n        var tree = this;\r\n\r\n        function breadthFirst(item, visitFn, maxDepth, _depth) {\r\n            var depth = _depth || 0;\r\n            depth++;\r\n            if (depth > maxDepth && maxDepth !== -1) {\r\n                return;\r\n            }\r\n            var i, curItem, items = [], children = [];\r\n            items = items.concat(item);\r\n\r\n            for (i = 0; i < items.length; i++) {\r\n                curItem = items[i];\r\n                visitFn(curItem);\r\n                if (!tree.isLeaf(curItem)) {\r\n                    children = children.concat(tree.getChildren(curItem))\r\n                }\r\n            }\r\n            if (children.length > 0) {\r\n                breadthFirst(children, visitFn, maxDepth, depth);\r\n            }\r\n            depth--;\r\n        };\r\n\r\n        tree.expend = function (item) {\r\n            if (!tree.isLeaf(item)) {\r\n                item.$$isExpend = true;\r\n            }\r\n        };\r\n        tree.expendAll = function (item) {\r\n            if (angular.isArray(item)) {\r\n                angular.forEach(item, function (value) {\r\n                    tree.depthFirst(value, tree.expend);\r\n                });\r\n            } else {\r\n                tree.depthFirst(item, tree.expend);\r\n            }\r\n\r\n        };\r\n        tree.expendToLevel = function (item, level) {\r\n            tree.breadthFirst(item, tree.expend, level);\r\n        };\r\n        tree.collapse = function (item) {\r\n            if (!tree.isLeaf(item)) {\r\n                item.$$isExpend = false;\r\n            }\r\n        };\r\n        tree.collapseAll = function (item) {\r\n            tree.depthFirst(item, tree.collapse);\r\n        };\r\n        /**\r\n         * \r\n         * @param item  \r\n         * @param visitFn \r\n         */\r\n        tree.depthFirst = function (item, visitFn) {\r\n            var i, children;\r\n            visitFn(item);\r\n            if (!tree.isLeaf(item)) {\r\n                children = tree.getChildren(item);\r\n                for (i = 0; i < children.length; i++) {\r\n                    tree.depthFirst(children[i], visitFn);\r\n                }\r\n            }\r\n        };\r\n        tree.breadthFirst = function (item, visitFn, maxDepth) {\r\n            breadthFirst(item, visitFn, maxDepth);\r\n        };\r\n        tree.getChildren = function (item) {\r\n            return item ? item.children : undefined;\r\n        };\r\n        tree.isLeaf = function (item) {\r\n            return !item.children || !item.children.length;\r\n        };\r\n    }]);\r\n\n'use strict';\r\nangular.module('ui.bootstrap.dateparser', [])\r\n\r\n.service('dateParser', ['$log', '$locale', 'orderByFilter', function($log, $locale, orderByFilter) {\r\n  // Pulled from https://github.com/mbostock/d3/blob/master/src/format/requote.js\r\n  var SPECIAL_CHARACTERS_REGEXP = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\r\n\r\n  this.parsers = {};\r\n\r\n  var formatCodeToRegex = {\r\n    'yyyy': {\r\n      regex: '\\\\d{4}',\r\n      apply: function(value) { this.year = +value; }\r\n    },\r\n    'yy': {\r\n      regex: '\\\\d{2}',\r\n      apply: function(value) { this.year = +value + 2000; }\r\n    },\r\n    'y': {\r\n      regex: '\\\\d{1,4}',\r\n      apply: function(value) { this.year = +value; }\r\n    },\r\n    'MMMM': {\r\n      regex: $locale.DATETIME_FORMATS.MONTH.join('|'),\r\n      apply: function(value) { this.month = $locale.DATETIME_FORMATS.MONTH.indexOf(value); }\r\n    },\r\n    'MMM': {\r\n      regex: $locale.DATETIME_FORMATS.SHORTMONTH.join('|'),\r\n      apply: function(value) { this.month = $locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value); }\r\n    },\r\n    'MM': {\r\n      regex: '0[1-9]|1[0-2]',\r\n      apply: function(value) { this.month = value - 1; }\r\n    },\r\n    'M': {\r\n      regex: '[1-9]|1[0-2]',\r\n      apply: function(value) { this.month = value - 1; }\r\n    },\r\n    'dd': {\r\n      regex: '[0-2][0-9]{1}|3[0-1]{1}',\r\n      apply: function(value) { this.date = +value; }\r\n    },\r\n    'd': {\r\n      regex: '[1-2]?[0-9]{1}|3[0-1]{1}',\r\n      apply: function(value) { this.date = +value; }\r\n    },\r\n    'EEEE': {\r\n      regex: $locale.DATETIME_FORMATS.DAY.join('|')\r\n    },\r\n    'EEE': {\r\n      regex: $locale.DATETIME_FORMATS.SHORTDAY.join('|')\r\n    },\r\n    'HH': {\r\n      regex: '(?:0|1)[0-9]|2[0-3]',\r\n      apply: function(value) { this.hours = +value; }\r\n    },\r\n    'hh': {\r\n      regex: '0[0-9]|1[0-2]',\r\n      apply: function(value) { this.hours = +value; }\r\n    },\r\n    'H': {\r\n      regex: '1?[0-9]|2[0-3]',\r\n      apply: function(value) { this.hours = +value; }\r\n    },\r\n    'h': {\r\n      regex: '[0-9]|1[0-2]',\r\n      apply: function(value) { this.hours = +value; }\r\n    },\r\n    'mm': {\r\n      regex: '[0-5][0-9]',\r\n      apply: function(value) { this.minutes = +value; }\r\n    },\r\n    'm': {\r\n      regex: '[0-9]|[1-5][0-9]',\r\n      apply: function(value) { this.minutes = +value; }\r\n    },\r\n    'sss': {\r\n      regex: '[0-9][0-9][0-9]',\r\n      apply: function(value) { this.milliseconds = +value; }\r\n    },\r\n    'ss': {\r\n      regex: '[0-5][0-9]',\r\n      apply: function(value) { this.seconds = +value; }\r\n    },\r\n    's': {\r\n      regex: '[0-9]|[1-5][0-9]',\r\n      apply: function(value) { this.seconds = +value; }\r\n    },\r\n    'a': {\r\n      regex: $locale.DATETIME_FORMATS.AMPMS.join('|'),\r\n      apply: function(value) {\r\n        if (this.hours === 12) {\r\n          this.hours = 0;\r\n        }\r\n\r\n        if (value === 'PM') {\r\n          this.hours += 12;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  function createParser(format) {\r\n    var map = [], regex = format.split('');\r\n\r\n    angular.forEach(formatCodeToRegex, function(data, code) {\r\n      var index = format.indexOf(code);\r\n\r\n      if (index > -1) {\r\n        format = format.split('');\r\n\r\n        regex[index] = '(' + data.regex + ')';\r\n        format[index] = '$'; // Custom symbol to define consumed part of format\r\n        for (var i = index + 1, n = index + code.length; i < n; i++) {\r\n          regex[i] = '';\r\n          format[i] = '$';\r\n        }\r\n        format = format.join('');\r\n\r\n        map.push({ index: index, apply: data.apply });\r\n      }\r\n    });\r\n\r\n    return {\r\n      regex: new RegExp('^' + regex.join('') + '$'),\r\n      map: orderByFilter(map, 'index')\r\n    };\r\n  }\r\n\r\n  this.parse = function(input, format, baseDate) {\r\n    if (!angular.isString(input) || !format) {\r\n      return input;\r\n    }\r\n\r\n    format = $locale.DATETIME_FORMATS[format] || format;\r\n    format = format.replace(SPECIAL_CHARACTERS_REGEXP, '\\\\$&');\r\n\r\n    if (!this.parsers[format]) {\r\n      this.parsers[format] = createParser(format);\r\n    }\r\n\r\n    var parser = this.parsers[format],\r\n        regex = parser.regex,\r\n        map = parser.map,\r\n        results = input.match(regex);\r\n\r\n    if (results && results.length) {\r\n      var fields, dt;\r\n      if (angular.isDate(baseDate) && !isNaN(baseDate.getTime())) {\r\n        fields = {\r\n          year: baseDate.getFullYear(),\r\n          month: baseDate.getMonth(),\r\n          date: baseDate.getDate(),\r\n          hours: baseDate.getHours(),\r\n          minutes: baseDate.getMinutes(),\r\n          seconds: baseDate.getSeconds(),\r\n          milliseconds: baseDate.getMilliseconds()\r\n        };\r\n      } else {\r\n        if (baseDate) {\r\n          $log.warn('dateparser:', 'baseDate is not a valid date');\r\n        }\r\n        fields = { year: 1900, month: 0, date: 1, hours: 0, minutes: 0, seconds: 0, milliseconds: 0 };\r\n      }\r\n\r\n      for (var i = 1, n = results.length; i < n; i++) {\r\n        var mapper = map[i-1];\r\n        if (mapper.apply) {\r\n          mapper.apply.call(fields, results[i]);\r\n        }\r\n      }\r\n\r\n      if (isValid(fields.year, fields.month, fields.date)) {\r\n        dt = new Date(fields.year, fields.month, fields.date,\r\n          fields.hours, fields.minutes, fields.seconds,\r\n          fields.milliseconds || 0);\r\n      }\r\n\r\n      return dt;\r\n    }\r\n  };\r\n\r\n  // Check if date is valid for specific month (and year for February).\r\n  // Month: 0 = Jan, 1 = Feb, etc\r\n  function isValid(year, month, date) {\r\n    if (date < 1) {\r\n      return false;\r\n    }\r\n\r\n    if (month === 1 && date > 28) {\r\n      return date === 29 && ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);\r\n    }\r\n\r\n    if (month === 3 || month === 5 || month === 8 || month === 10) {\r\n      return date < 31;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}]);\r\n\n'use strict';\r\nangular.module('ui.bootstrap.datepicker', ['ui.bootstrap.dateparser', 'ui.bootstrap.position'])\r\n\r\n    .value('$datepickerSuppressError', false)\r\n\r\n    .constant('datepickerConfig', {\r\n        formatDay: 'dd',\r\n        formatMonth: 'MMMM',\r\n        formatYear: 'yyyy',\r\n        formatDayHeader: 'EEE',\r\n        formatDayTitle: 'yyyy MMMM',\r\n        formatMonthTitle: 'yyyy',\r\n        datepickerMode: 'day',\r\n        minMode: 'day',\r\n        maxMode: 'year',\r\n        showWeeks: true,\r\n        startingDay: 0,\r\n        yearRange: 20,\r\n        minDate: null,\r\n        maxDate: null,\r\n        shortcutPropagation: false\r\n    })\r\n\r\n    .controller('DatepickerController', ['$scope', '$attrs', '$parse', '$interpolate', '$log', 'dateFilter', 'datepickerConfig', '$datepickerSuppressError', function ($scope, $attrs, $parse, $interpolate, $log, dateFilter, datepickerConfig, $datepickerSuppressError) {\r\n        var self = this,\r\n            ngModelCtrl = {$setViewValue: angular.noop}; // nullModelCtrl;\r\n\r\n        // Modes chain\r\n        this.modes = ['day', 'month', 'year'];\r\n\r\n        // Configuration attributes\r\n        angular.forEach(['formatDay', 'formatMonth', 'formatYear', 'formatDayHeader', 'formatDayTitle', 'formatMonthTitle',\r\n            'showWeeks', 'startingDay', 'yearRange', 'shortcutPropagation'], function (key, index) {\r\n            self[key] = angular.isDefined($attrs[key]) ? (index < 6 ? $interpolate($attrs[key])($scope.$parent) : $scope.$parent.$eval($attrs[key])) : datepickerConfig[key];\r\n        });\r\n\r\n        // Watchable date attributes\r\n        angular.forEach(['minDate', 'maxDate'], function (key) {\r\n            if ($attrs[key]) {\r\n                $scope.$parent.$watch($parse($attrs[key]), function (value) {\r\n                    self[key] = value ? new Date(value) : null;\r\n                    self.refreshView();\r\n                });\r\n            } else {\r\n                self[key] = datepickerConfig[key] ? new Date(datepickerConfig[key]) : null;\r\n            }\r\n        });\r\n\r\n        angular.forEach(['minMode', 'maxMode'], function (key) {\r\n            if ($attrs[key]) {\r\n                $scope.$parent.$watch($parse($attrs[key]), function (value) {\r\n                    self[key] = angular.isDefined(value) ? value : $attrs[key];\r\n                    $scope[key] = self[key];\r\n                    if ((key == 'minMode' && self.modes.indexOf($scope.datepickerMode) < self.modes.indexOf(self[key])) || (key == 'maxMode' && self.modes.indexOf($scope.datepickerMode) > self.modes.indexOf(self[key]))) {\r\n                        $scope.datepickerMode = self[key];\r\n                    }\r\n                });\r\n            } else {\r\n                self[key] = datepickerConfig[key] || null;\r\n                $scope[key] = self[key];\r\n            }\r\n        });\r\n\r\n        $scope.datepickerMode = $scope.datepickerMode || datepickerConfig.datepickerMode;\r\n        $scope.uniqueId = 'datepicker-' + $scope.$id + '-' + Math.floor(Math.random() * 10000);\r\n\r\n        if (angular.isDefined($attrs.initDate)) {\r\n            this.activeDate = $scope.$parent.$eval($attrs.initDate) || new Date();\r\n            $scope.$parent.$watch($attrs.initDate, function (initDate) {\r\n                if (initDate && (ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue) || ngModelCtrl.$invalid)) {\r\n                    self.activeDate = initDate;\r\n                    self.refreshView();\r\n                }\r\n            });\r\n        } else {\r\n            this.activeDate = new Date();\r\n        }\r\n\r\n        $scope.isActive = function (dateObject) {\r\n            if (self.compare(dateObject.date, self.activeDate) === 0) {\r\n                $scope.activeDateId = dateObject.uid;\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n\r\n        this.init = function (ngModelCtrl_) {\r\n            ngModelCtrl = ngModelCtrl_;\r\n\r\n\r\n            ngModelCtrl.$render = function () {\r\n                self.render();\r\n            };\r\n        };\r\n        $scope.time = {\r\n            hours: 0,\r\n            minutes: 0,\r\n            seconds: 0\r\n        };\r\n\r\n        this.render = function () {\r\n            if (ngModelCtrl.$viewValue) {\r\n                var date = new Date(ngModelCtrl.$viewValue),\r\n                    isValid = !isNaN(date);\r\n\r\n                if (isValid) {\r\n                    this.activeDate = date;\r\n                    $scope.time.hours = date.getHours();\r\n                    $scope.time.minutes = date.getMinutes();\r\n                    $scope.time.seconds = date.getSeconds();\r\n                } else if (!$datepickerSuppressError) {\r\n                    $log.error('Datepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');\r\n                }\r\n            }\r\n            this.refreshView();\r\n        };\r\n\r\n        this.refreshView = function () {\r\n            if (this.element) {\r\n                this._refreshView();\r\n                if (ngModelCtrl.$viewValue) {\r\n                    var date = new Date(ngModelCtrl.$viewValue),\r\n                        isValid = !isNaN(date);\r\n\r\n                    if (isValid) {\r\n                        $scope.time.hours = date.getHours();\r\n                        $scope.time.minutes = date.getMinutes();\r\n                        $scope.time.seconds = date.getSeconds();\r\n                    } else if (!$datepickerSuppressError) {\r\n                        $log.error('Datepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');\r\n                    }\r\n                }\r\n                var date = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;\r\n                ngModelCtrl.$setValidity('dateDisabled', !date || (this.element && !this.isDisabled(date)));\r\n            }\r\n        };\r\n\r\n        this.createDateObject = function (date, format) {\r\n            var model = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;\r\n            return {\r\n                date: date,\r\n                label: dateFilter(date, format),\r\n                selected: model && this.compare(date, model) === 0,\r\n                disabled: this.isDisabled(date),\r\n                current: this.compare(date, new Date()) === 0,\r\n                customClass: this.customClass(date)\r\n            };\r\n        };\r\n\r\n        this.isDisabled = function (date) {\r\n            return ((this.minDate && this.compare(date, this.minDate) < 0) || (this.maxDate && this.compare(date, this.maxDate) > 0) || ($attrs.dateDisabled && $scope.dateDisabled({\r\n                date: date,\r\n                mode: $scope.datepickerMode\r\n            })));\r\n        };\r\n\r\n        this.customClass = function (date) {\r\n            return $scope.customClass({date: date, mode: $scope.datepickerMode});\r\n        };\r\n\r\n        // Split array into smaller arrays\r\n        this.split = function (arr, size) {\r\n            var arrays = [];\r\n            while (arr.length > 0) {\r\n                arrays.push(arr.splice(0, size));\r\n            }\r\n            return arrays;\r\n        };\r\n\r\n        // Fix a hard-reprodusible bug with timezones\r\n        // The bug depends on OS, browser, current timezone and current date\r\n        // i.e.\r\n        // var date = new Date(2014, 0, 1);\r\n        // console.log(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());\r\n        // can result in \"2013 11 31 23\" because of the bug.\r\n        this.fixTimeZone = function (date) {\r\n            var hours = date.getHours();\r\n            date.setHours(hours === 23 ? hours + 2 : 0);\r\n        };\r\n\r\n        $scope.select = function (date) {\r\n            if ($scope.datepickerMode === self.minMode) {\r\n                var dt = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);\r\n                dt.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\r\n                dt.setHours($scope.time.hours, $scope.time.minutes, $scope.time.seconds, 0);\r\n                ngModelCtrl.$setViewValue(dt);\r\n                ngModelCtrl.$render();\r\n            } else {\r\n                self.activeDate = date;\r\n                $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) - 1];\r\n            }\r\n        };\r\n\r\n        $scope.select = function (date) {\r\n            if ($scope.datepickerMode === self.minMode) {\r\n                var dt = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);\r\n                var hours = parseInt($scope.time.hours) || 0,\r\n                    minutes = parseInt($scope.time.minutes) || 0,\r\n                    seconds = parseInt($scope.time.seconds) || 0;\r\n                dt.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\r\n                if (hours < 24) {\r\n                    dt.setHours(hours);\r\n                }\r\n                if (minutes < 60) {\r\n                    dt.setMinutes(minutes);\r\n                }\r\n                if (seconds < 60) {\r\n                    dt.setSeconds(seconds);\r\n                }\r\n                ngModelCtrl.$setViewValue(dt);\r\n                ngModelCtrl.$render();\r\n            } else {\r\n                self.activeDate = date;\r\n                $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) - 1];\r\n            }\r\n        };\r\n\r\n        $scope.setTime = function () {\r\n            if (ngModelCtrl.$viewValue) {\r\n                $scope.select(new Date(ngModelCtrl.$viewValue));\r\n            }\r\n        };\r\n\r\n        $scope.move = function (direction) {\r\n            var year = self.activeDate.getFullYear() + direction * (self.step.years || 0),\r\n                month = self.activeDate.getMonth() + direction * (self.step.months || 0);\r\n            self.activeDate.setFullYear(year, month, 1);\r\n            self.refreshView();\r\n        };\r\n\r\n        $scope.toggleMode = function (direction) {\r\n            direction = direction || 1;\r\n\r\n            if (($scope.datepickerMode === self.maxMode && direction === 1) || ($scope.datepickerMode === self.minMode && direction === -1)) {\r\n                return;\r\n            }\r\n\r\n            $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) + direction];\r\n        };\r\n\r\n        // Key event mapper\r\n        $scope.keys = {\r\n            13: 'enter',\r\n            32: 'space',\r\n            33: 'pageup',\r\n            34: 'pagedown',\r\n            35: 'end',\r\n            36: 'home',\r\n            37: 'left',\r\n            38: 'up',\r\n            39: 'right',\r\n            40: 'down'\r\n        };\r\n\r\n        var focusElement = function () {\r\n            self.element[0].focus();\r\n        };\r\n\r\n        // Listen for focus requests from popup directive\r\n        $scope.$on('datepicker.focus', focusElement);\r\n\r\n        $scope.keydown = function (evt) {\r\n            var key = $scope.keys[evt.which];\r\n\r\n            if (!key || evt.shiftKey || evt.altKey) {\r\n                return;\r\n            }\r\n\r\n            evt.preventDefault();\r\n            if (!self.shortcutPropagation) {\r\n                evt.stopPropagation();\r\n            }\r\n\r\n            if (key === 'enter' || key === 'space') {\r\n                if (self.isDisabled(self.activeDate)) {\r\n                    return; // do nothing\r\n                }\r\n                $scope.select(self.activeDate);\r\n                focusElement();\r\n            } else if (evt.ctrlKey && (key === 'up' || key === 'down')) {\r\n                $scope.toggleMode(key === 'up' ? 1 : -1);\r\n                focusElement();\r\n            } else {\r\n                self.handleKeyDown(key, evt);\r\n                self.refreshView();\r\n            }\r\n        };\r\n    }])\r\n\r\n    .directive('datepicker', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            templateUrl: function (element, attrs) {\r\n                return attrs.templateUrl || 'components/datepicker/datepicker.html';\r\n            },\r\n            scope: {\r\n                datepickerMode: '=?',\r\n                dateDisabled: '&',\r\n                customClass: '&',\r\n                shortcutPropagation: '&?',\r\n                showTime: '='\r\n            },\r\n            require: ['datepicker', '^ngModel'],\r\n            controller: 'DatepickerController',\r\n            controllerAs: 'datepicker',\r\n            link: function (scope, element, attrs, ctrls) {\r\n                var datepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];\r\n                datepickerCtrl.init(ngModelCtrl);\r\n            }\r\n        };\r\n    })\r\n\r\n    .directive('daypicker', ['dateFilter', function (dateFilter) {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            templateUrl: 'components/datepicker/day.html',\r\n            require: '^datepicker',\r\n            link: function (scope, element, attrs, ctrl) {\r\n                scope.showWeeks = ctrl.showWeeks;\r\n                ctrl.step = {months: 1};\r\n                ctrl.element = element;\r\n\r\n                var DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\r\n                function getDaysInMonth(year, month) {\r\n                    return ((month === 1) && (year % 4 === 0) && ((year % 100 !== 0) || (year % 400 === 0))) ? 29 : DAYS_IN_MONTH[month];\r\n                }\r\n\r\n                function getDates(startDate, n) {\r\n                    var dates = new Array(n), current = new Date(startDate), i = 0, date;\r\n                    while (i < n) {\r\n                        date = new Date(current);\r\n                        ctrl.fixTimeZone(date);\r\n                        dates[i++] = date;\r\n                        current.setDate(current.getDate() + 1);\r\n                    }\r\n                    return dates;\r\n                }\r\n\r\n                ctrl._refreshView = function () {\r\n                    var year = ctrl.activeDate.getFullYear(),\r\n                        month = ctrl.activeDate.getMonth(),\r\n                        firstDayOfMonth = new Date(year, month, 1),\r\n                        difference = ctrl.startingDay - firstDayOfMonth.getDay(),\r\n                        numDisplayedFromPreviousMonth = (difference > 0) ? 7 - difference : -difference,\r\n                        firstDate = new Date(firstDayOfMonth);\r\n\r\n                    if (numDisplayedFromPreviousMonth > 0) {\r\n                        firstDate.setDate(-numDisplayedFromPreviousMonth + 1);\r\n                    }\r\n\r\n                    // 42 is the number of days on a six-month calendar\r\n                    var days = getDates(firstDate, 42);\r\n                    for (var i = 0; i < 42; i++) {\r\n                        days[i] = angular.extend(ctrl.createDateObject(days[i], ctrl.formatDay), {\r\n                            secondary: days[i].getMonth() !== month,\r\n                            uid: scope.uniqueId + '-' + i\r\n                        });\r\n                    }\r\n\r\n                    scope.labels = new Array(7);\r\n                    for (var j = 0; j < 7; j++) {\r\n                        scope.labels[j] = {\r\n                            abbr: dateFilter(days[j].date, ctrl.formatDayHeader),\r\n                            full: dateFilter(days[j].date, 'EEEE')\r\n                        };\r\n                    }\r\n\r\n                    scope.title = dateFilter(ctrl.activeDate, ctrl.formatDayTitle);\r\n                    scope.rows = ctrl.split(days, 7);\r\n\r\n                    if (scope.showWeeks) {\r\n                        scope.weekNumbers = [];\r\n                        var thursdayIndex = (4 + 7 - ctrl.startingDay) % 7,\r\n                            numWeeks = scope.rows.length;\r\n                        for (var curWeek = 0; curWeek < numWeeks; curWeek++) {\r\n                            scope.weekNumbers.push(\r\n                                getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));\r\n                        }\r\n                    }\r\n                };\r\n\r\n                ctrl.compare = function (date1, date2) {\r\n                    return (new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate()));\r\n                };\r\n\r\n                function getISO8601WeekNumber(date) {\r\n                    var checkDate = new Date(date);\r\n                    checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday\r\n                    var time = checkDate.getTime();\r\n                    checkDate.setMonth(0); // Compare with Jan 1\r\n                    checkDate.setDate(1);\r\n                    return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;\r\n                }\r\n\r\n                ctrl.handleKeyDown = function (key, evt) {\r\n                    var date = ctrl.activeDate.getDate();\r\n\r\n                    if (key === 'left') {\r\n                        date = date - 1;   // up\r\n                    } else if (key === 'up') {\r\n                        date = date - 7;   // down\r\n                    } else if (key === 'right') {\r\n                        date = date + 1;   // down\r\n                    } else if (key === 'down') {\r\n                        date = date + 7;\r\n                    } else if (key === 'pageup' || key === 'pagedown') {\r\n                        var month = ctrl.activeDate.getMonth() + (key === 'pageup' ? -1 : 1);\r\n                        ctrl.activeDate.setMonth(month, 1);\r\n                        date = Math.min(getDaysInMonth(ctrl.activeDate.getFullYear(), ctrl.activeDate.getMonth()), date);\r\n                    } else if (key === 'home') {\r\n                        date = 1;\r\n                    } else if (key === 'end') {\r\n                        date = getDaysInMonth(ctrl.activeDate.getFullYear(), ctrl.activeDate.getMonth());\r\n                    }\r\n                    ctrl.activeDate.setDate(date);\r\n                };\r\n\r\n                ctrl.refreshView();\r\n            }\r\n        };\r\n    }])\r\n\r\n    .directive('monthpicker', ['dateFilter', function (dateFilter) {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            templateUrl: 'components/datepicker/month.html',\r\n            require: '^datepicker',\r\n            link: function (scope, element, attrs, ctrl) {\r\n                ctrl.step = {years: 1};\r\n                ctrl.element = element;\r\n\r\n                ctrl._refreshView = function () {\r\n                    var months = new Array(12),\r\n                        year = ctrl.activeDate.getFullYear(),\r\n                        date;\r\n\r\n                    for (var i = 0; i < 12; i++) {\r\n                        date = new Date(year, i, 1);\r\n                        ctrl.fixTimeZone(date);\r\n                        months[i] = angular.extend(ctrl.createDateObject(date, ctrl.formatMonth), {\r\n                            uid: scope.uniqueId + '-' + i\r\n                        });\r\n                    }\r\n\r\n                    scope.title = dateFilter(ctrl.activeDate, ctrl.formatMonthTitle);\r\n\r\n                    scope.rows = ctrl.split(months, 3);\r\n                };\r\n\r\n                ctrl.compare = function (date1, date2) {\r\n                    return new Date(date1.getFullYear(), date1.getMonth()) - new Date(date2.getFullYear(), date2.getMonth());\r\n                };\r\n\r\n                ctrl.handleKeyDown = function (key, evt) {\r\n                    var date = ctrl.activeDate.getMonth();\r\n\r\n                    if (key === 'left') {\r\n                        date = date - 1;   // up\r\n                    } else if (key === 'up') {\r\n                        date = date - 3;   // down\r\n                    } else if (key === 'right') {\r\n                        date = date + 1;   // down\r\n                    } else if (key === 'down') {\r\n                        date = date + 3;\r\n                    } else if (key === 'pageup' || key === 'pagedown') {\r\n                        var year = ctrl.activeDate.getFullYear() + (key === 'pageup' ? -1 : 1);\r\n                        ctrl.activeDate.setFullYear(year);\r\n                    } else if (key === 'home') {\r\n                        date = 0;\r\n                    } else if (key === 'end') {\r\n                        date = 11;\r\n                    }\r\n                    ctrl.activeDate.setMonth(date);\r\n                };\r\n\r\n                ctrl.refreshView();\r\n            }\r\n        };\r\n    }])\r\n\r\n    .directive('yearpicker', ['dateFilter', function (dateFilter) {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            templateUrl: 'components/datepicker/year.html',\r\n            require: '^datepicker',\r\n            link: function (scope, element, attrs, ctrl) {\r\n                var range = ctrl.yearRange;\r\n\r\n                ctrl.step = {years: range};\r\n                ctrl.element = element;\r\n\r\n                function getStartingYear(year) {\r\n                    return parseInt((year - 1) / range, 10) * range + 1;\r\n                }\r\n\r\n                ctrl._refreshView = function () {\r\n                    var years = new Array(range), date;\r\n\r\n                    for (var i = 0, start = getStartingYear(ctrl.activeDate.getFullYear()); i < range; i++) {\r\n                        date = new Date(start + i, 0, 1);\r\n                        ctrl.fixTimeZone(date);\r\n                        years[i] = angular.extend(ctrl.createDateObject(date, ctrl.formatYear), {\r\n                            uid: scope.uniqueId + '-' + i\r\n                        });\r\n                    }\r\n\r\n                    scope.title = [years[0].label, years[range - 1].label].join(' - ');\r\n                    scope.rows = ctrl.split(years, 5);\r\n                };\r\n\r\n                ctrl.compare = function (date1, date2) {\r\n                    return date1.getFullYear() - date2.getFullYear();\r\n                };\r\n\r\n                ctrl.handleKeyDown = function (key, evt) {\r\n                    var date = ctrl.activeDate.getFullYear();\r\n\r\n                    if (key === 'left') {\r\n                        date = date - 1;   // up\r\n                    } else if (key === 'up') {\r\n                        date = date - 5;   // down\r\n                    } else if (key === 'right') {\r\n                        date = date + 1;   // down\r\n                    } else if (key === 'down') {\r\n                        date = date + 5;\r\n                    } else if (key === 'pageup' || key === 'pagedown') {\r\n                        date += (key === 'pageup' ? -1 : 1) * ctrl.step.years;\r\n                    } else if (key === 'home') {\r\n                        date = getStartingYear(ctrl.activeDate.getFullYear());\r\n                    } else if (key === 'end') {\r\n                        date = getStartingYear(ctrl.activeDate.getFullYear()) + range - 1;\r\n                    }\r\n                    ctrl.activeDate.setFullYear(date);\r\n                };\r\n\r\n                ctrl.refreshView();\r\n            }\r\n        };\r\n    }])\r\n\r\n    .constant('datepickerPopupConfig', {\r\n        datepickerPopup: 'yyyy-MM-dd',\r\n        datepickerPopupTemplateUrl: 'components/datepicker/popup.html',\r\n        datepickerTemplateUrl: 'components/datepicker/datepicker.html',\r\n        html5Types: {\r\n            date: 'yyyy-MM-dd',\r\n            'datetime-local': 'yyyy-MM-ddTHH:mm:ss.sss',\r\n            'month': 'yyyy-MM'\r\n        },\r\n        currentText: 'Today',\r\n        clearText: 'Clear',\r\n        closeText: 'Done',\r\n        closeOnDateSelection: true,\r\n        appendToBody: false,\r\n        showButtonBar: true,\r\n        onOpenFocus: true\r\n    })\r\n\r\n    .directive('datepickerPopup', ['$compile', '$parse', '$document', '$rootScope', '$position', 'dateFilter', 'dateParser', 'datepickerPopupConfig', '$timeout',\r\n        function ($compile, $parse, $document, $rootScope, $position, dateFilter, dateParser, datepickerPopupConfig, $timeout) {\r\n            return {\r\n                restrict: 'EA',\r\n                require: 'ngModel',\r\n                scope: {\r\n                    isOpen: '=?',\r\n                    currentText: '@',\r\n                    clearText: '@',\r\n                    closeText: '@',\r\n                    dateDisabled: '&',\r\n                    customClass: '&',\r\n                    showTime: '='\r\n                },\r\n                link: function (scope, element, attrs, ngModel) {\r\n                    var dateFormat,\r\n                        closeOnDateSelection = angular.isDefined(attrs.closeOnDateSelection) ? scope.$parent.$eval(attrs.closeOnDateSelection) : datepickerPopupConfig.closeOnDateSelection,\r\n                        appendToBody = angular.isDefined(attrs.datepickerAppendToBody) ? scope.$parent.$eval(attrs.datepickerAppendToBody) : datepickerPopupConfig.appendToBody,\r\n                        onOpenFocus = angular.isDefined(attrs.onOpenFocus) ? scope.$parent.$eval(attrs.onOpenFocus) : datepickerPopupConfig.onOpenFocus,\r\n                        datepickerPopupTemplateUrl = angular.isDefined(attrs.datepickerPopupTemplateUrl) ? attrs.datepickerPopupTemplateUrl : datepickerPopupConfig.datepickerPopupTemplateUrl,\r\n                        datepickerTemplateUrl = angular.isDefined(attrs.datepickerTemplateUrl) ? attrs.datepickerTemplateUrl : datepickerPopupConfig.datepickerTemplateUrl,\r\n                        cache = {};\r\n\r\n                    scope.showButtonBar = angular.isDefined(attrs.showButtonBar) ? scope.$parent.$eval(attrs.showButtonBar) : datepickerPopupConfig.showButtonBar;\r\n\r\n                    scope.getText = function (key) {\r\n                        return scope[key + 'Text'] || datepickerPopupConfig[key + 'Text'];\r\n                    };\r\n\r\n                    scope.isDisabled = function (date) {\r\n                        if (date === 'today') {\r\n                            date = new Date();\r\n                        }\r\n\r\n                        return ((scope.watchData.minDate && scope.compare(date, cache.minDate) < 0) ||\r\n                        (scope.watchData.maxDate && scope.compare(date, cache.maxDate) > 0));\r\n                    };\r\n\r\n                    scope.compare = function (date1, date2) {\r\n                        return (new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate()));\r\n                    };\r\n\r\n                    var isHtml5DateInput = false;\r\n                    if (datepickerPopupConfig.html5Types[attrs.type]) {\r\n                        dateFormat = datepickerPopupConfig.html5Types[attrs.type];\r\n                        isHtml5DateInput = true;\r\n                    } else {\r\n                        dateFormat = attrs.datepickerPopup || datepickerPopupConfig.datepickerPopup;\r\n                        attrs.$observe('datepickerPopup', function (value, oldValue) {\r\n                            var newDateFormat = value || datepickerPopupConfig.datepickerPopup;\r\n                            // Invalidate the $modelValue to ensure that formatters re-run\r\n                            // FIXME: Refactor when PR is merged: https://github.com/angular/angular.js/pull/10764\r\n                            if (newDateFormat !== dateFormat) {\r\n                                dateFormat = newDateFormat;\r\n                                ngModel.$modelValue = null;\r\n\r\n                                if (!dateFormat) {\r\n                                    throw new Error('datepickerPopup must have a date format specified.');\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    if (!dateFormat) {\r\n                        throw new Error('datepickerPopup must have a date format specified.');\r\n                    }\r\n\r\n                    if (isHtml5DateInput && attrs.datepickerPopup) {\r\n                        throw new Error('HTML5 date input types do not support custom formats.');\r\n                    }\r\n\r\n                    // popup element used to display calendar\r\n                    var popupEl = angular.element('<div datepicker-popup-wrap><div datepicker></div></div>');\r\n                    popupEl.attr({\r\n                        'ng-model': 'date',\r\n                        'ng-change': 'dateSelection(date)',\r\n                        'template-url': datepickerPopupTemplateUrl\r\n                    });\r\n\r\n                    function cameltoDash(string) {\r\n                        return string.replace(/([A-Z])/g, function ($1) {\r\n                            return '-' + $1.toLowerCase();\r\n                        });\r\n                    }\r\n\r\n                    // datepicker element\r\n                    var datepickerEl = angular.element(popupEl.children()[0]);\r\n                    datepickerEl.attr('template-url', datepickerTemplateUrl);\r\n\r\n                    if (isHtml5DateInput) {\r\n                        if (attrs.type === 'month') {\r\n                            datepickerEl.attr('datepicker-mode', '\"month\"');\r\n                            datepickerEl.attr('min-mode', 'month');\r\n                        }\r\n                    }\r\n\r\n                    if (attrs.datepickerOptions) {\r\n                        var options = scope.$parent.$eval(attrs.datepickerOptions);\r\n                        if (options && options.initDate) {\r\n                            scope.initDate = options.initDate;\r\n                            datepickerEl.attr('init-date', 'initDate');\r\n                            delete options.initDate;\r\n                        }\r\n                        angular.forEach(options, function (value, option) {\r\n                            datepickerEl.attr(cameltoDash(option), value);\r\n                        });\r\n                    }\r\n\r\n                    scope.watchData = {};\r\n                    angular.forEach(['minMode', 'maxMode', 'minDate', 'maxDate', 'datepickerMode', 'initDate', 'shortcutPropagation'], function (key) {\r\n                        if (attrs[key]) {\r\n                            var getAttribute = $parse(attrs[key]);\r\n                            scope.$parent.$watch(getAttribute, function (value) {\r\n                                scope.watchData[key] = value;\r\n                                if (key === 'minDate' || key === 'maxDate') {\r\n                                    cache[key] = new Date(value);\r\n                                }\r\n                            });\r\n                            datepickerEl.attr(cameltoDash(key), 'watchData.' + key);\r\n\r\n                            // Propagate changes from datepicker to outside\r\n                            if (key === 'datepickerMode') {\r\n                                var setAttribute = getAttribute.assign;\r\n                                scope.$watch('watchData.' + key, function (value, oldvalue) {\r\n                                    if (angular.isFunction(setAttribute) && value !== oldvalue) {\r\n                                        setAttribute(scope.$parent, value);\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n                    if (attrs.dateDisabled) {\r\n                        datepickerEl.attr('date-disabled', 'dateDisabled({ date: date, mode: mode })');\r\n                    }\r\n\r\n                    if (attrs.showWeeks) {\r\n                        datepickerEl.attr('show-weeks', attrs.showWeeks);\r\n                    }\r\n\r\n                    if (attrs.customClass) {\r\n                        datepickerEl.attr('custom-class', 'customClass({ date: date, mode: mode })');\r\n                    }\r\n\r\n                    function parseDate(viewValue) {\r\n                        if (angular.isNumber(viewValue)) {\r\n                            // presumably timestamp to date object\r\n                            viewValue = new Date(viewValue);\r\n                        }\r\n\r\n                        if (!viewValue) {\r\n                            return null;\r\n                        } else if (angular.isDate(viewValue) && !isNaN(viewValue)) {\r\n                            return viewValue;\r\n                        } else if (angular.isString(viewValue)) {\r\n                            var date = dateParser.parse(viewValue, dateFormat, scope.date);\r\n                            if (isNaN(date)) {\r\n                                return undefined;\r\n                            } else {\r\n                                return date;\r\n                            }\r\n                        } else {\r\n                            return undefined;\r\n                        }\r\n                    }\r\n\r\n                    function validator(modelValue, viewValue) {\r\n                        var value = modelValue || viewValue;\r\n\r\n                        if (!attrs.ngRequired && !value) {\r\n                            return true;\r\n                        }\r\n\r\n                        if (angular.isNumber(value)) {\r\n                            value = new Date(value);\r\n                        }\r\n                        if (!value) {\r\n                            return true;\r\n                        } else if (angular.isDate(value) && !isNaN(value)) {\r\n                            return true;\r\n                        } else if (angular.isString(value)) {\r\n                            var date = dateParser.parse(value, dateFormat);\r\n                            return !isNaN(date);\r\n                        } else {\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    if (!isHtml5DateInput) {\r\n                        // Internal API to maintain the correct ng-invalid-[key] class\r\n                        ngModel.$$parserName = 'date';\r\n                        ngModel.$validators.date = validator;\r\n                        ngModel.$parsers.unshift(parseDate);\r\n                        ngModel.$formatters.push(function (value) {\r\n                            scope.date = value;\r\n                            return ngModel.$isEmpty(value) ? value : dateFilter(value, dateFormat);\r\n                        });\r\n                    } else {\r\n                        ngModel.$formatters.push(function (value) {\r\n                            scope.date = value;\r\n                            return value;\r\n                        });\r\n                    }\r\n\r\n                    // Inner change\r\n                    scope.dateSelection = function (dt) {\r\n                        if (angular.isDefined(dt)) {\r\n                            scope.date = dt;\r\n                        }\r\n                        var date = scope.date ? dateFilter(scope.date, dateFormat) : null; // Setting to NULL is necessary for form validators to function\r\n                        element.val(date);\r\n                        ngModel.$setViewValue(date);\r\n\r\n                        if (closeOnDateSelection) {\r\n                            scope.isOpen = false;\r\n                            element[0].focus();\r\n                        }\r\n                    };\r\n\r\n                    // Detect changes in the view from the text box\r\n                    ngModel.$viewChangeListeners.push(function () {\r\n                        scope.date = dateParser.parse(ngModel.$viewValue, dateFormat, scope.date);\r\n                    });\r\n\r\n                    var documentClickBind = function (event) {\r\n                        if (scope.isOpen && !(element[0].contains(event.target) || popupEl[0].contains(event.target))) {\r\n                            scope.$apply(function () {\r\n                                scope.isOpen = false;\r\n                            });\r\n                        }\r\n                    };\r\n\r\n                    var inputKeydownBind = function (evt) {\r\n                        if (evt.which === 27 && scope.isOpen) {\r\n                            evt.preventDefault();\r\n                            evt.stopPropagation();\r\n                            scope.$apply(function () {\r\n                                scope.isOpen = false;\r\n                            });\r\n                            element[0].focus();\r\n                        } else if (evt.which === 40 && !scope.isOpen) {\r\n                            evt.preventDefault();\r\n                            evt.stopPropagation();\r\n                            scope.$apply(function () {\r\n                                scope.isOpen = true;\r\n                            });\r\n                        }\r\n                    };\r\n                    element.bind('keydown', inputKeydownBind);\r\n\r\n                    scope.keydown = function (evt) {\r\n                        if (evt.which === 27) {\r\n                            scope.isOpen = false;\r\n                            element[0].focus();\r\n                        }\r\n                    };\r\n\r\n                    scope.$watch('isOpen', function (value) {\r\n                        if (value) {\r\n                            scope.position = appendToBody ? $position.offset(element) : $position.position(element);\r\n                            scope.position.top = scope.position.top + element.prop('offsetHeight');\r\n\r\n                            $timeout(function () {\r\n                                if (onOpenFocus) {\r\n                                    scope.$broadcast('datepicker.focus');\r\n                                }\r\n                                $document.bind('click', documentClickBind);\r\n                            }, 0, false);\r\n                        } else {\r\n                            $document.unbind('click', documentClickBind);\r\n                        }\r\n                    });\r\n\r\n                    scope.select = function (date) {\r\n                        if (date === 'today') {\r\n                            var today = new Date();\r\n                            if (angular.isDate(scope.date)) {\r\n                                date = new Date(scope.date);\r\n                                date.setFullYear(today.getFullYear(), today.getMonth(), today.getDate());\r\n                            } else {\r\n                                date = new Date(today.setHours(0, 0, 0, 0));\r\n                            }\r\n                        }\r\n                        scope.dateSelection(date);\r\n                    };\r\n\r\n                    scope.close = function () {\r\n                        scope.isOpen = false;\r\n                        element[0].focus();\r\n                    };\r\n\r\n                    var $popup = $compile(popupEl)(scope);\r\n                    // Prevent jQuery cache memory leak (template is now redundant after linking)\r\n                    popupEl.remove();\r\n\r\n                    if (appendToBody) {\r\n                        $document.find('body').append($popup);\r\n                    } else {\r\n                        element.after($popup);\r\n                    }\r\n\r\n                    scope.$on('$destroy', function () {\r\n                        if (scope.isOpen === true) {\r\n                            if (!$rootScope.$$phase) {\r\n                                scope.$apply(function () {\r\n                                    scope.isOpen = false;\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        $popup.remove();\r\n                        element.unbind('keydown', inputKeydownBind);\r\n                        $document.unbind('click', documentClickBind);\r\n                    });\r\n                }\r\n            };\r\n        }])\r\n\r\n    .directive('datepickerPopupWrap', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            templateUrl: function (element, attrs) {\r\n                return attrs.templateUrl || 'components/datepicker/popup.html';\r\n            }\r\n        };\r\n    });\r\n\n'use strict';\r\nangular.module('ui.bootstrap.position', [])\r\n\r\n/**\r\n * A set of utility methods that can be use to retrieve position of DOM elements.\r\n * It is meant to be used where we need to absolute-position DOM elements in\r\n * relation to other, existing elements (this is the case for tooltips, popovers,\r\n * typeahead suggestions etc.).\r\n */\r\n  .factory('$position', ['$document', '$window', function($document, $window) {\r\n    function getStyle(el, cssprop) {\r\n      if (el.currentStyle) { //IE\r\n        return el.currentStyle[cssprop];\r\n      } else if ($window.getComputedStyle) {\r\n        return $window.getComputedStyle(el)[cssprop];\r\n      }\r\n      // finally try and get inline style\r\n      return el.style[cssprop];\r\n    }\r\n\r\n    /**\r\n     * Checks if a given element is statically positioned\r\n     * @param element - raw DOM element\r\n     */\r\n    function isStaticPositioned(element) {\r\n      return (getStyle(element, 'position') || 'static' ) === 'static';\r\n    }\r\n\r\n    /**\r\n     * returns the closest, non-statically positioned parentOffset of a given element\r\n     * @param element\r\n     */\r\n    var parentOffsetEl = function(element) {\r\n      var docDomEl = $document[0];\r\n      var offsetParent = element.offsetParent || docDomEl;\r\n      while (offsetParent && offsetParent !== docDomEl && isStaticPositioned(offsetParent) ) {\r\n        offsetParent = offsetParent.offsetParent;\r\n      }\r\n      return offsetParent || docDomEl;\r\n    };\r\n\r\n    return {\r\n      /**\r\n       * Provides read-only equivalent of jQuery's position function:\r\n       * http://api.jquery.com/position/\r\n       */\r\n      position: function(element) {\r\n        var elBCR = this.offset(element);\r\n        var offsetParentBCR = { top: 0, left: 0 };\r\n        var offsetParentEl = parentOffsetEl(element[0]);\r\n        if (offsetParentEl != $document[0]) {\r\n          offsetParentBCR = this.offset(angular.element(offsetParentEl));\r\n          offsetParentBCR.top += offsetParentEl.clientTop - offsetParentEl.scrollTop;\r\n          offsetParentBCR.left += offsetParentEl.clientLeft - offsetParentEl.scrollLeft;\r\n        }\r\n\r\n        var boundingClientRect = element[0].getBoundingClientRect();\r\n        return {\r\n          width: boundingClientRect.width || element.prop('offsetWidth'),\r\n          height: boundingClientRect.height || element.prop('offsetHeight'),\r\n          top: elBCR.top - offsetParentBCR.top,\r\n          left: elBCR.left - offsetParentBCR.left\r\n        };\r\n      },\r\n\r\n      /**\r\n       * Provides read-only equivalent of jQuery's offset function:\r\n       * http://api.jquery.com/offset/\r\n       */\r\n      offset: function(element) {\r\n        var boundingClientRect = element[0].getBoundingClientRect();\r\n        return {\r\n          width: boundingClientRect.width || element.prop('offsetWidth'),\r\n          height: boundingClientRect.height || element.prop('offsetHeight'),\r\n          top: boundingClientRect.top + ($window.pageYOffset || $document[0].documentElement.scrollTop),\r\n          left: boundingClientRect.left + ($window.pageXOffset || $document[0].documentElement.scrollLeft)\r\n        };\r\n      },\r\n\r\n      /**\r\n       * Provides coordinates for the targetEl in relation to hostEl\r\n       */\r\n      positionElements: function(hostEl, targetEl, positionStr, appendToBody) {\r\n        var positionStrParts = positionStr.split('-');\r\n        var pos0 = positionStrParts[0], pos1 = positionStrParts[1] || 'center';\r\n\r\n        var hostElPos,\r\n          targetElWidth,\r\n          targetElHeight,\r\n          targetElPos;\r\n\r\n        hostElPos = appendToBody ? this.offset(hostEl) : this.position(hostEl);\r\n\r\n        targetElWidth = targetEl.prop('offsetWidth');\r\n        targetElHeight = targetEl.prop('offsetHeight');\r\n\r\n        var shiftWidth = {\r\n          center: function() {\r\n            return hostElPos.left + hostElPos.width / 2 - targetElWidth / 2;\r\n          },\r\n          left: function() {\r\n            return hostElPos.left;\r\n          },\r\n          right: function() {\r\n            return hostElPos.left + hostElPos.width;\r\n          }\r\n        };\r\n\r\n        var shiftHeight = {\r\n          center: function() {\r\n            return hostElPos.top + hostElPos.height / 2 - targetElHeight / 2;\r\n          },\r\n          top: function() {\r\n            return hostElPos.top;\r\n          },\r\n          bottom: function() {\r\n            return hostElPos.top + hostElPos.height;\r\n          }\r\n        };\r\n\r\n        switch (pos0) {\r\n          case 'right':\r\n            targetElPos = {\r\n              top: shiftHeight[pos1](),\r\n              left: shiftWidth[pos0]()\r\n            };\r\n            break;\r\n          case 'left':\r\n            targetElPos = {\r\n              top: shiftHeight[pos1](),\r\n              left: hostElPos.left - targetElWidth\r\n            };\r\n            break;\r\n          case 'bottom':\r\n            targetElPos = {\r\n              top: shiftHeight[pos0](),\r\n              left: shiftWidth[pos1]()\r\n            };\r\n            break;\r\n          default:\r\n            targetElPos = {\r\n              top: hostElPos.top - targetElHeight,\r\n              left: shiftWidth[pos1]()\r\n            };\r\n            break;\r\n        }\r\n\r\n        return targetElPos;\r\n      }\r\n    };\r\n  }]);\r\n\n'use strict';\r\nangular.module('ui.bootstrap.bindHtml', [])\r\n\r\n  .value('$bindHtmlUnsafeSuppressDeprecated', false)\r\n\r\n  .directive('bindHtmlUnsafe', ['$log', '$bindHtmlUnsafeSuppressDeprecated', function ($log, $bindHtmlUnsafeSuppressDeprecated) {\r\n    return function (scope, element, attr) {\r\n      if (!$bindHtmlUnsafeSuppressDeprecated) {\r\n        $log.warn('bindHtmlUnsafe is now deprecated. Use ngBindHtml instead');\r\n      }\r\n      element.addClass('ng-binding').data('$binding', attr.bindHtmlUnsafe);\r\n      scope.$watch(attr.bindHtmlUnsafe, function bindHtmlUnsafeWatchAction(value) {\r\n        element.html(value || '');\r\n      });\r\n    };\r\n  }]);\n'use strict';\r\n/**\r\n * The following features are still outstanding: animation as a\r\n * function, placement as a function, inside, support for more triggers than\r\n * just mouse enter/leave, html tooltips, and selector delegation.\r\n */\r\nangular.module('ui.bootstrap.tooltip', ['ui.bootstrap.position', 'ui.bootstrap.bindHtml'])\r\n\r\n/**\r\n * The $tooltip service creates tooltip- and popover-like directives as well as\r\n * houses global options for them.\r\n */\r\n.provider('$tooltip', function() {\r\n  // The default options tooltip and popover.\r\n  var defaultOptions = {\r\n    placement: 'top',\r\n    animation: true,\r\n    popupDelay: 0,\r\n    useContentExp: false\r\n  };\r\n\r\n  // Default hide triggers for each show trigger\r\n  var triggerMap = {\r\n    'mouseenter': 'mouseleave',\r\n    'click': 'click',\r\n    'focus': 'blur',\r\n    'none': ''\r\n  };\r\n\r\n  // The options specified to the provider globally.\r\n  var globalOptions = {};\r\n\r\n  /**\r\n   * `options({})` allows global configuration of all tooltips in the\r\n   * application.\r\n   *\r\n   *   var app = angular.module( 'App', ['ui.bootstrap.tooltip'], function( $tooltipProvider ) {\r\n   *     // place tooltips left instead of top by default\r\n   *     $tooltipProvider.options( { placement: 'left' } );\r\n   *   });\r\n   */\r\n\tthis.options = function(value) {\r\n\t\tangular.extend(globalOptions, value);\r\n\t};\r\n\r\n  /**\r\n   * This allows you to extend the set of trigger mappings available. E.g.:\r\n   *\r\n   *   $tooltipProvider.setTriggers( 'openTrigger': 'closeTrigger' );\r\n   */\r\n  this.setTriggers = function setTriggers(triggers) {\r\n    angular.extend(triggerMap, triggers);\r\n  };\r\n\r\n  /**\r\n   * This is a helper function for translating camel-case to snake-case.\r\n   */\r\n  function snake_case(name) {\r\n    var regexp = /[A-Z]/g;\r\n    var separator = '-';\r\n    return name.replace(regexp, function(letter, pos) {\r\n      return (pos ? separator : '') + letter.toLowerCase();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Returns the actual instance of the $tooltip service.\r\n   * TODO support multiple triggers\r\n   */\r\n  this.$get = ['$window', '$compile', '$timeout', '$document', '$position', '$interpolate', '$rootScope', '$parse', function($window, $compile, $timeout, $document, $position, $interpolate, $rootScope, $parse) {\r\n    return function $tooltip(type, prefix, defaultTriggerShow, options) {\r\n      options = angular.extend({}, defaultOptions, globalOptions, options);\r\n\r\n      /**\r\n       * Returns an object of show and hide triggers.\r\n       *\r\n       * If a trigger is supplied,\r\n       * it is used to show the tooltip; otherwise, it will use the `trigger`\r\n       * option passed to the `$tooltipProvider.options` method; else it will\r\n       * default to the trigger supplied to this directive factory.\r\n       *\r\n       * The hide trigger is based on the show trigger. If the `trigger` option\r\n       * was passed to the `$tooltipProvider.options` method, it will use the\r\n       * mapped trigger from `triggerMap` or the passed trigger if the map is\r\n       * undefined; otherwise, it uses the `triggerMap` value of the show\r\n       * trigger; else it will just use the show trigger.\r\n       */\r\n      function getTriggers(trigger) {\r\n        var show = (trigger || options.trigger || defaultTriggerShow).split(' ');\r\n        var hide = show.map(function(trigger) {\r\n          return triggerMap[trigger] || trigger;\r\n        });\r\n        return {\r\n          show: show,\r\n          hide: hide\r\n        };\r\n      }\r\n\r\n      var directiveName = snake_case(type);\r\n\r\n      var startSym = $interpolate.startSymbol();\r\n      var endSym = $interpolate.endSymbol();\r\n      var template =\r\n        '<div '+ directiveName +'-popup '+\r\n          'title=\"'+startSym+'title'+endSym+'\" '+\r\n          (options.useContentExp ?\r\n            'content-exp=\"contentExp()\" ' :\r\n            'content=\"'+startSym+'content'+endSym+'\" ') +\r\n          'placement=\"'+startSym+'placement'+endSym+'\" '+\r\n          'popup-class=\"'+startSym+'popupClass'+endSym+'\" '+\r\n          'animation=\"animation\" '+\r\n          'is-open=\"isOpen\"'+\r\n          'origin-scope=\"origScope\" '+\r\n          '>'+\r\n        '</div>';\r\n\r\n      return {\r\n        restrict: 'EA',\r\n        compile: function(tElem, tAttrs) {\r\n          var tooltipLinker = $compile( template );\r\n\r\n          return function link(scope, element, attrs, tooltipCtrl) {\r\n            var tooltip;\r\n            var tooltipLinkedScope;\r\n            var transitionTimeout;\r\n            var popupTimeout;\r\n            var positionTimeout;\r\n            var appendToBody = angular.isDefined(options.appendToBody) ? options.appendToBody : false;\r\n            var triggers = getTriggers(undefined);\r\n            var hasEnableExp = angular.isDefined(attrs[prefix + 'Enable']);\r\n            var ttScope = scope.$new(true);\r\n            var repositionScheduled = false;\r\n            var isOpenExp = angular.isDefined(attrs[prefix + 'IsOpen']) ? $parse(attrs[prefix + 'IsOpen']) : false;\r\n\r\n            var positionTooltip = function() {\r\n              if (!tooltip) { return; }\r\n\r\n              if (!positionTimeout) {\r\n                positionTimeout = $timeout(function() {\r\n                  // Reset the positioning and box size for correct width and height values.\r\n                  tooltip.css({ top: 0, left: 0, width: 'auto', height: 'auto' });\r\n\r\n                  var ttBox = $position.position(tooltip);\r\n                  var ttCss = $position.positionElements(element, tooltip, ttScope.placement, appendToBody);\r\n                  ttCss.top += 'px';\r\n                  ttCss.left += 'px';\r\n\r\n                  ttCss.width = ttBox.width + 'px';\r\n                  ttCss.height = ttBox.height + 'px';\r\n\r\n                  // Now set the calculated positioning and size.\r\n                  tooltip.css(ttCss);\r\n\r\n                  positionTimeout = null;\r\n\r\n                }, 0, false);\r\n              }\r\n            };\r\n\r\n            // Set up the correct scope to allow transclusion later\r\n            ttScope.origScope = scope;\r\n\r\n            // By default, the tooltip is not open.\r\n            // TODO add ability to start tooltip opened\r\n            ttScope.isOpen = false;\r\n\r\n            function toggleTooltipBind() {\r\n              if (!ttScope.isOpen) {\r\n                showTooltipBind();\r\n              } else {\r\n                hideTooltipBind();\r\n              }\r\n            }\r\n\r\n            // Show the tooltip with delay if specified, otherwise show it immediately\r\n            function showTooltipBind() {\r\n              if (hasEnableExp && !scope.$eval(attrs[prefix + 'Enable'])) {\r\n                return;\r\n              }\r\n\r\n              prepareTooltip();\r\n\r\n              if (ttScope.popupDelay) {\r\n                // Do nothing if the tooltip was already scheduled to pop-up.\r\n                // This happens if show is triggered multiple times before any hide is triggered.\r\n                if (!popupTimeout) {\r\n                  popupTimeout = $timeout(show, ttScope.popupDelay, false);\r\n                }\r\n              } else {\r\n                show();\r\n              }\r\n            }\r\n\r\n            function hideTooltipBind () {\r\n              hide();\r\n              if (!$rootScope.$$phase) {\r\n                $rootScope.$digest();\r\n              }\r\n            }\r\n\r\n            // Show the tooltip popup element.\r\n            function show() {\r\n              popupTimeout = null;\r\n\r\n              // If there is a pending remove transition, we must cancel it, lest the\r\n              // tooltip be mysteriously removed.\r\n              if (transitionTimeout) {\r\n                $timeout.cancel(transitionTimeout);\r\n                transitionTimeout = null;\r\n              }\r\n\r\n              // Don't show empty tooltips.\r\n              if (!(options.useContentExp ? ttScope.contentExp() : ttScope.content)) {\r\n                return angular.noop;\r\n              }\r\n\r\n              createTooltip();\r\n\r\n              // And show the tooltip.\r\n              ttScope.isOpen = true;\r\n              if (isOpenExp) {\r\n                isOpenExp.assign(ttScope.origScope, ttScope.isOpen);\r\n              }\r\n\r\n              if (!$rootScope.$$phase) {\r\n                ttScope.$apply(); // digest required as $apply is not called\r\n              }\r\n\r\n              tooltip.css({ display: 'block' });\r\n\r\n              positionTooltip();\r\n            }\r\n\r\n            // Hide the tooltip popup element.\r\n            function hide() {\r\n              // First things first: we don't show it anymore.\r\n              ttScope.isOpen = false;\r\n              if (isOpenExp) {\r\n                isOpenExp.assign(ttScope.origScope, ttScope.isOpen);\r\n              }\r\n\r\n              //if tooltip is going to be shown after delay, we must cancel this\r\n              $timeout.cancel(popupTimeout);\r\n              popupTimeout = null;\r\n\r\n              $timeout.cancel(positionTimeout);\r\n              positionTimeout = null;\r\n\r\n              // And now we remove it from the DOM. However, if we have animation, we\r\n              // need to wait for it to expire beforehand.\r\n              // FIXME: this is a placeholder for a port of the transitions library.\r\n              if (ttScope.animation) {\r\n                if (!transitionTimeout) {\r\n                  transitionTimeout = $timeout(removeTooltip, 500);\r\n                }\r\n              } else {\r\n                removeTooltip();\r\n              }\r\n            }\r\n\r\n            function createTooltip() {\r\n              // There can only be one tooltip element per directive shown at once.\r\n              if (tooltip) {\r\n                removeTooltip();\r\n              }\r\n              tooltipLinkedScope = ttScope.$new();\r\n              tooltip = tooltipLinker(tooltipLinkedScope, function(tooltip) {\r\n                if (appendToBody) {\r\n                  $document.find('body').append(tooltip);\r\n                } else {\r\n                  element.after(tooltip);\r\n                }\r\n              });\r\n\r\n              if (options.useContentExp) {\r\n                tooltipLinkedScope.$watch('contentExp()', function(val) {\r\n                  if (!val && ttScope.isOpen) {\r\n                    hide();\r\n                  }\r\n                });\r\n\r\n                tooltipLinkedScope.$watch(function() {\r\n                  if (!repositionScheduled) {\r\n                    repositionScheduled = true;\r\n                    tooltipLinkedScope.$$postDigest(function() {\r\n                      repositionScheduled = false;\r\n                      if (ttScope.isOpen) {\r\n                        positionTooltip();\r\n                      }\r\n                    });\r\n                  }\r\n                });\r\n\r\n              }\r\n            }\r\n\r\n            function removeTooltip() {\r\n              transitionTimeout = null;\r\n              if (tooltip) {\r\n                tooltip.remove();\r\n                tooltip = null;\r\n              }\r\n              if (tooltipLinkedScope) {\r\n                tooltipLinkedScope.$destroy();\r\n                tooltipLinkedScope = null;\r\n              }\r\n            }\r\n\r\n            function prepareTooltip() {\r\n              prepPopupClass();\r\n              prepPlacement();\r\n              prepPopupDelay();\r\n            }\r\n\r\n            ttScope.contentExp = function() {\r\n              return scope.$eval(attrs[type]);\r\n            };\r\n\r\n            /**\r\n             * Observe the relevant attributes.\r\n             */\r\n            if (!options.useContentExp) {\r\n              attrs.$observe(type, function(val) {\r\n                ttScope.content = val;\r\n\r\n                if (!val && ttScope.isOpen) {\r\n                  hide();\r\n                } else {\r\n                  positionTooltip();\r\n                }\r\n              });\r\n            }\r\n\r\n            attrs.$observe('disabled', function(val) {\r\n              if (popupTimeout && val) {\r\n                $timeout.cancel(popupTimeout);\r\n                popupTimeout = null;\r\n              }\r\n\r\n              if (val && ttScope.isOpen) {\r\n                hide();\r\n              }\r\n            });\r\n\r\n            attrs.$observe(prefix + 'Title', function(val) {\r\n              ttScope.title = val;\r\n              positionTooltip();\r\n            });\r\n\r\n            attrs.$observe(prefix + 'Placement', function() {\r\n              if (ttScope.isOpen) {\r\n                prepPlacement();\r\n                positionTooltip();\r\n              }\r\n            });\r\n\r\n            if (isOpenExp) {\r\n              scope.$watch(isOpenExp, function(val) {\r\n                if (val !== ttScope.isOpen) {\r\n                  toggleTooltipBind();\r\n                }\r\n              });\r\n            }\r\n\r\n            function prepPopupClass() {\r\n              ttScope.popupClass = attrs[prefix + 'Class'];\r\n            }\r\n\r\n            function prepPlacement() {\r\n              var val = attrs[prefix + 'Placement'];\r\n              ttScope.placement = angular.isDefined(val) ? val : options.placement;\r\n            }\r\n\r\n            function prepPopupDelay() {\r\n              var val = attrs[prefix + 'PopupDelay'];\r\n              var delay = parseInt(val, 10);\r\n              ttScope.popupDelay = !isNaN(delay) ? delay : options.popupDelay;\r\n            }\r\n\r\n            var unregisterTriggers = function() {\r\n              triggers.show.forEach(function(trigger) {\r\n                element.unbind(trigger, showTooltipBind);\r\n              });\r\n              triggers.hide.forEach(function(trigger) {\r\n                element.unbind(trigger, hideTooltipBind);\r\n              });\r\n            };\r\n\r\n            function prepTriggers() {\r\n              var val = attrs[prefix + 'Trigger'];\r\n              unregisterTriggers();\r\n\r\n              triggers = getTriggers(val);\r\n\r\n              if (triggers.show !== 'none') {\r\n                triggers.show.forEach(function(trigger, idx) {\r\n                  // Using raw addEventListener due to jqLite/jQuery bug - #4060\r\n                  if (trigger === triggers.hide[idx]) {\r\n                    element[0].addEventListener(trigger, toggleTooltipBind);\r\n                  } else if (trigger) {\r\n                    element[0].addEventListener(trigger, showTooltipBind);\r\n                    element[0].addEventListener(triggers.hide[idx], hideTooltipBind);\r\n                  }\r\n                });\r\n              }\r\n            }\r\n            prepTriggers();\r\n\r\n            var animation = scope.$eval(attrs[prefix + 'Animation']);\r\n            ttScope.animation = angular.isDefined(animation) ? !!animation : options.animation;\r\n\r\n            var appendToBodyVal = scope.$eval(attrs[prefix + 'AppendToBody']);\r\n            appendToBody = angular.isDefined(appendToBodyVal) ? appendToBodyVal : appendToBody;\r\n\r\n            // if a tooltip is attached to <body> we need to remove it on\r\n            // location change as its parent scope will probably not be destroyed\r\n            // by the change.\r\n            if (appendToBody) {\r\n              scope.$on('$locationChangeSuccess', function closeTooltipOnLocationChangeSuccess() {\r\n                if (ttScope.isOpen) {\r\n                  hide();\r\n                }\r\n              });\r\n            }\r\n\r\n            // Make sure tooltip is destroyed and removed.\r\n            scope.$on('$destroy', function onDestroyTooltip() {\r\n              $timeout.cancel(transitionTimeout);\r\n              $timeout.cancel(popupTimeout);\r\n              $timeout.cancel(positionTimeout);\r\n              unregisterTriggers();\r\n              removeTooltip();\r\n              ttScope = null;\r\n            });\r\n          };\r\n        }\r\n      };\r\n    };\r\n  }];\r\n})\r\n\r\n// This is mostly ngInclude code but with a custom scope\r\n.directive('tooltipTemplateTransclude', [\r\n         '$animate', '$sce', '$compile', '$templateRequest',\r\nfunction ($animate ,  $sce ,  $compile ,  $templateRequest) {\r\n  return {\r\n    link: function(scope, elem, attrs) {\r\n      var origScope = scope.$eval(attrs.tooltipTemplateTranscludeScope);\r\n\r\n      var changeCounter = 0,\r\n        currentScope,\r\n        previousElement,\r\n        currentElement;\r\n\r\n      var cleanupLastIncludeContent = function() {\r\n        if (previousElement) {\r\n          previousElement.remove();\r\n          previousElement = null;\r\n        }\r\n        if (currentScope) {\r\n          currentScope.$destroy();\r\n          currentScope = null;\r\n        }\r\n        if (currentElement) {\r\n          $animate.leave(currentElement).then(function() {\r\n            previousElement = null;\r\n          });\r\n          previousElement = currentElement;\r\n          currentElement = null;\r\n        }\r\n      };\r\n\r\n      scope.$watch($sce.parseAsResourceUrl(attrs.tooltipTemplateTransclude), function(src) {\r\n        var thisChangeId = ++changeCounter;\r\n\r\n        if (src) {\r\n          //set the 2nd param to true to ignore the template request error so that the inner\r\n          //contents and scope can be cleaned up.\r\n          $templateRequest(src, true).then(function(response) {\r\n            if (thisChangeId !== changeCounter) { return; }\r\n            var newScope = origScope.$new();\r\n            var template = response;\r\n\r\n            var clone = $compile(template)(newScope, function(clone) {\r\n              cleanupLastIncludeContent();\r\n              $animate.enter(clone, elem);\r\n            });\r\n\r\n            currentScope = newScope;\r\n            currentElement = clone;\r\n\r\n            currentScope.$emit('$includeContentLoaded', src);\r\n          }, function() {\r\n            if (thisChangeId === changeCounter) {\r\n              cleanupLastIncludeContent();\r\n              scope.$emit('$includeContentError', src);\r\n            }\r\n          });\r\n          scope.$emit('$includeContentRequested', src);\r\n        } else {\r\n          cleanupLastIncludeContent();\r\n        }\r\n      });\r\n\r\n      scope.$on('$destroy', cleanupLastIncludeContent);\r\n    }\r\n  };\r\n}])\r\n\r\n/**\r\n * Note that it's intentional that these classes are *not* applied through $animate.\r\n * They must not be animated as they're expected to be present on the tooltip on\r\n * initialization.\r\n */\r\n.directive('tooltipClasses', function() {\r\n  return {\r\n    restrict: 'A',\r\n    link: function(scope, element, attrs) {\r\n      if (scope.placement) {\r\n        element.addClass(scope.placement);\r\n      }\r\n      if (scope.popupClass) {\r\n        element.addClass(scope.popupClass);\r\n      }\r\n      if (scope.animation()) {\r\n        element.addClass(attrs.tooltipAnimationClass);\r\n      }\r\n    }\r\n  };\r\n})\r\n\r\n.directive('tooltipPopup', function() {\r\n  return {\r\n    restrict: 'EA',\r\n    replace: true,\r\n    scope: { content: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },\r\n    templateUrl: 'components/tooltip/tooltip-popup.html'\r\n  };\r\n})\r\n\r\n.directive('tooltip', [ '$tooltip', function($tooltip) {\r\n  return $tooltip('tooltip', 'tooltip', 'mouseenter');\r\n}])\r\n\r\n.directive('tooltipTemplatePopup', function() {\r\n  return {\r\n    restrict: 'EA',\r\n    replace: true,\r\n    scope: { contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&',\r\n      originScope: '&' },\r\n    templateUrl: 'components/tooltip/tooltip-template-popup.html'\r\n  };\r\n})\r\n\r\n.directive('tooltipTemplate', ['$tooltip', function($tooltip) {\r\n  return $tooltip('tooltipTemplate', 'tooltip', 'mouseenter', {\r\n    useContentExp: true\r\n  });\r\n}])\r\n\r\n.directive('tooltipHtmlPopup', function() {\r\n  return {\r\n    restrict: 'EA',\r\n    replace: true,\r\n    scope: { contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },\r\n    templateUrl: 'components/tooltip/tooltip-html-popup.html'\r\n  };\r\n})\r\n\r\n.directive('tooltipHtml', ['$tooltip', function($tooltip) {\r\n  return $tooltip('tooltipHtml', 'tooltip', 'mouseenter', {\r\n    useContentExp: true\r\n  });\r\n}])\r\n\r\n/*\r\nDeprecated\r\n*/\r\n.directive('tooltipHtmlUnsafePopup', function() {\r\n  return {\r\n    restrict: 'EA',\r\n    replace: true,\r\n    scope: { content: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },\r\n    templateUrl: 'components/tooltip/tooltip-html-unsafe-popup.html'\r\n  };\r\n})\r\n\r\n.value('tooltipHtmlUnsafeSuppressDeprecated', false)\r\n.directive('tooltipHtmlUnsafe', [\r\n          '$tooltip', 'tooltipHtmlUnsafeSuppressDeprecated', '$log',\r\nfunction($tooltip ,  tooltipHtmlUnsafeSuppressDeprecated ,  $log) {\r\n  if (!tooltipHtmlUnsafeSuppressDeprecated) {\r\n    $log.warn('tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead.');\r\n  }\r\n  return $tooltip('tooltipHtmlUnsafe', 'tooltip', 'mouseenter');\r\n}]);\r\n\n'use strict';\r\nangular.module('ui.bootstrap.modal', [])\r\n\r\n/**\r\n * A helper, internal data structure that acts as a map but also allows getting / removing\r\n * elements in the LIFO order\r\n */\r\n  .factory('$$stackedMap', function() {\r\n    return {\r\n      createNew: function() {\r\n        var stack = [];\r\n\r\n        return {\r\n          add: function(key, value) {\r\n            stack.push({\r\n              key: key,\r\n              value: value\r\n            });\r\n          },\r\n          get: function(key) {\r\n            for (var i = 0; i < stack.length; i++) {\r\n              if (key == stack[i].key) {\r\n                return stack[i];\r\n              }\r\n            }\r\n          },\r\n          keys: function() {\r\n            var keys = [];\r\n            for (var i = 0; i < stack.length; i++) {\r\n              keys.push(stack[i].key);\r\n            }\r\n            return keys;\r\n          },\r\n          top: function() {\r\n            return stack[stack.length - 1];\r\n          },\r\n          remove: function(key) {\r\n            var idx = -1;\r\n            for (var i = 0; i < stack.length; i++) {\r\n              if (key == stack[i].key) {\r\n                idx = i;\r\n                break;\r\n              }\r\n            }\r\n            return stack.splice(idx, 1)[0];\r\n          },\r\n          removeTop: function() {\r\n            return stack.splice(stack.length - 1, 1)[0];\r\n          },\r\n          length: function() {\r\n            return stack.length;\r\n          }\r\n        };\r\n      }\r\n    };\r\n  })\r\n\r\n/**\r\n * A helper, internal data structure that stores all references attached to key\r\n */\r\n  .factory('$$multiMap', function() {\r\n    return {\r\n      createNew: function() {\r\n        var map = {};\r\n\r\n        return {\r\n          entries: function() {\r\n            return Object.keys(map).map(function(key) {\r\n              return {\r\n                key: key,\r\n                value: map[key]\r\n              };\r\n            });\r\n          },\r\n          get: function(key) {\r\n            return map[key];\r\n          },\r\n          hasKey: function(key) {\r\n            return !!map[key];\r\n          },\r\n          keys: function() {\r\n            return Object.keys(map);\r\n          },\r\n          put: function(key, value) {\r\n            if (!map[key]) {\r\n              map[key] = [];\r\n            }\r\n\r\n            map[key].push(value);\r\n          },\r\n          remove: function(key, value) {\r\n            var values = map[key];\r\n\r\n            if (!values) {\r\n              return;\r\n            }\r\n\r\n            var idx = values.indexOf(value);\r\n\r\n            if (idx !== -1) {\r\n              values.splice(idx, 1);\r\n            }\r\n\r\n            if (!values.length) {\r\n              delete map[key];\r\n            }\r\n          }\r\n        };\r\n      }\r\n    };\r\n  })\r\n\r\n/**\r\n * A helper directive for the $modal service. It creates a backdrop element.\r\n */\r\n  .directive('modalBackdrop', [\r\n           '$animate', '$injector', '$modalStack',\r\n  function($animate ,  $injector,   $modalStack) {\r\n    var $animateCss = null;\r\n\r\n    if ($injector.has('$animateCss')) {\r\n      $animateCss = $injector.get('$animateCss');\r\n    }\r\n\r\n    return {\r\n      restrict: 'EA',\r\n      replace: true,\r\n      templateUrl: 'components/modal/backdrop.html',\r\n      compile: function(tElement, tAttrs) {\r\n        tElement.addClass(tAttrs.backdropClass);\r\n        return linkFn;\r\n      }\r\n    };\r\n\r\n    function linkFn(scope, element, attrs) {\r\n      if (attrs.modalInClass) {\r\n        if ($animateCss) {\r\n          $animateCss(element, {\r\n            addClass: attrs.modalInClass\r\n          }).start();\r\n        } else {\r\n          $animate.addClass(element, attrs.modalInClass);\r\n        }\r\n\r\n        scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {\r\n          var done = setIsAsync();\r\n          if ($animateCss) {\r\n            $animateCss(element, {\r\n              removeClass: attrs.modalInClass\r\n            }).start().then(done);\r\n          } else {\r\n            $animate.removeClass(element, attrs.modalInClass).then(done);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }])\r\n\r\n  .directive('modalWindow', [\r\n           '$modalStack', '$q', '$animate', '$injector',\r\n  function($modalStack ,  $q ,  $animate,   $injector) {\r\n    var $animateCss = null;\r\n\r\n    if ($injector.has('$animateCss')) {\r\n      $animateCss = $injector.get('$animateCss');\r\n    }\r\n\r\n    return {\r\n      restrict: 'EA',\r\n      scope: {\r\n        index: '@'\r\n      },\r\n      replace: true,\r\n      transclude: true,\r\n      templateUrl: function(tElement, tAttrs) {\r\n        return tAttrs.templateUrl || 'components/modal/window.html';\r\n      },\r\n      link: function(scope, element, attrs) {\r\n        element.addClass(attrs.windowClass || '');\r\n        scope.size = attrs.size;\r\n\r\n        scope.close = function(evt) {\r\n          var modal = $modalStack.getTop();\r\n          if (modal && modal.value.backdrop && modal.value.backdrop !== 'static' && (evt.target === evt.currentTarget)) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n            $modalStack.dismiss(modal.key, 'backdrop click');\r\n          }\r\n        };\r\n\r\n        // This property is only added to the scope for the purpose of detecting when this directive is rendered.\r\n        // We can detect that by using this property in the template associated with this directive and then use\r\n        // {@link Attribute#$observe} on it. For more details please see {@link TableColumnResize}.\r\n        scope.$isRendered = true;\r\n\r\n        // Deferred object that will be resolved when this modal is render.\r\n        var modalRenderDeferObj = $q.defer();\r\n        // Observe function will be called on next digest cycle after compilation, ensuring that the DOM is ready.\r\n        // In order to use this way of finding whether DOM is ready, we need to observe a scope property used in modal's template.\r\n        attrs.$observe('modalRender', function(value) {\r\n          if (value == 'true') {\r\n            modalRenderDeferObj.resolve();\r\n          }\r\n        });\r\n\r\n        modalRenderDeferObj.promise.then(function() {\r\n          var animationPromise = null;\r\n\r\n          if (attrs.modalInClass) {\r\n            if ($animateCss) {\r\n              animationPromise = $animateCss(element, {\r\n                addClass: attrs.modalInClass\r\n              }).start();\r\n            } else {\r\n              animationPromise = $animate.addClass(element, attrs.modalInClass);\r\n            }\r\n\r\n            scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {\r\n              var done = setIsAsync();\r\n              if ($animateCss) {\r\n                $animateCss(element, {\r\n                  removeClass: attrs.modalInClass\r\n                }).start().then(done);\r\n              } else {\r\n                $animate.removeClass(element, attrs.modalInClass).then(done);\r\n              }\r\n            });\r\n          }\r\n\r\n\r\n          $q.when(animationPromise).then(function() {\r\n            var inputsWithAutofocus = element[0].querySelectorAll('[autofocus]');\r\n            /**\r\n             * Auto-focusing of a freshly-opened modal element causes any child elements\r\n             * with the autofocus attribute to lose focus. This is an issue on touch\r\n             * based devices which will show and then hide the onscreen keyboard.\r\n             * Attempts to refocus the autofocus element via JavaScript will not reopen\r\n             * the onscreen keyboard. Fixed by updated the focusing logic to only autofocus\r\n             * the modal element if the modal does not contain an autofocus element.\r\n             */\r\n            if (inputsWithAutofocus.length) {\r\n              inputsWithAutofocus[0].focus();\r\n            } else {\r\n              element[0].focus();\r\n            }\r\n          });\r\n\r\n          // Notify {@link $modalStack} that modal is rendered.\r\n          var modal = $modalStack.getTop();\r\n          if (modal) {\r\n            $modalStack.modalRendered(modal.key);\r\n          }\r\n        });\r\n      }\r\n    };\r\n  }])\r\n\r\n  .directive('modalAnimationClass', [\r\n    function () {\r\n      return {\r\n        compile: function(tElement, tAttrs) {\r\n          if (tAttrs.modalAnimation) {\r\n            tElement.addClass(tAttrs.modalAnimationClass);\r\n          }\r\n        }\r\n      };\r\n    }])\r\n\r\n  .directive('modalTransclude', function() {\r\n    return {\r\n      link: function($scope, $element, $attrs, controller, $transclude) {\r\n        $transclude($scope.$parent, function(clone) {\r\n          $element.empty();\r\n          $element.append(clone);\r\n        });\r\n      }\r\n    };\r\n  })\r\n\r\n  .factory('$modalStack', [\r\n             '$animate', '$timeout', '$document', '$compile', '$rootScope',\r\n             '$q',\r\n             '$injector',\r\n             '$$multiMap',\r\n             '$$stackedMap',\r\n    function($animate ,  $timeout ,  $document ,  $compile ,  $rootScope ,\r\n              $q,\r\n              $injector,\r\n              $$multiMap,\r\n              $$stackedMap) {\r\n      var $animateCss = null;\r\n\r\n      if ($injector.has('$animateCss')) {\r\n        $animateCss = $injector.get('$animateCss');\r\n      }\r\n\r\n      var OPENED_MODAL_CLASS = 'modal-open';\r\n\r\n      var backdropDomEl, backdropScope;\r\n      var openedWindows = $$stackedMap.createNew();\r\n      var openedClasses = $$multiMap.createNew();\r\n      var $modalStack = {\r\n        NOW_CLOSING_EVENT: 'modal.stack.now-closing'\r\n      };\r\n\r\n      //Modal focus behavior\r\n      var focusableElementList;\r\n      var focusIndex = 0;\r\n      var tababbleSelector = 'a[href], area[href], input:not([disabled]), ' +\r\n        'button:not([disabled]),select:not([disabled]), textarea:not([disabled]), ' +\r\n        'iframe, object, embed, *[tabindex], *[contenteditable=true]';\r\n\r\n      function backdropIndex() {\r\n        var topBackdropIndex = -1;\r\n        var opened = openedWindows.keys();\r\n        for (var i = 0; i < opened.length; i++) {\r\n          if (openedWindows.get(opened[i]).value.backdrop) {\r\n            topBackdropIndex = i;\r\n          }\r\n        }\r\n        return topBackdropIndex;\r\n      }\r\n\r\n      $rootScope.$watch(backdropIndex, function(newBackdropIndex) {\r\n        if (backdropScope) {\r\n          backdropScope.index = newBackdropIndex;\r\n        }\r\n      });\r\n\r\n      function removeModalWindow(modalInstance, elementToReceiveFocus) {\r\n        var body = $document.find('body').eq(0);\r\n        var modalWindow = openedWindows.get(modalInstance).value;\r\n\r\n        //clean up the stack\r\n        openedWindows.remove(modalInstance);\r\n\r\n        removeAfterAnimate(modalWindow.modalDomEl, modalWindow.modalScope, function() {\r\n          var modalBodyClass = modalWindow.openedClass || OPENED_MODAL_CLASS;\r\n          openedClasses.remove(modalBodyClass, modalInstance);\r\n          body.toggleClass(modalBodyClass, openedClasses.hasKey(modalBodyClass));\r\n        });\r\n        checkRemoveBackdrop();\r\n\r\n        //move focus to specified element if available, or else to body\r\n        if (elementToReceiveFocus && elementToReceiveFocus.focus) {\r\n          elementToReceiveFocus.focus();\r\n        } else {\r\n          body.focus();\r\n        }\r\n      }\r\n\r\n      function checkRemoveBackdrop() {\r\n          //remove backdrop if no longer needed\r\n          if (backdropDomEl && backdropIndex() == -1) {\r\n            var backdropScopeRef = backdropScope;\r\n            removeAfterAnimate(backdropDomEl, backdropScope, function() {\r\n              backdropScopeRef = null;\r\n            });\r\n            backdropDomEl = undefined;\r\n            backdropScope = undefined;\r\n          }\r\n      }\r\n\r\n      function removeAfterAnimate(domEl, scope, done) {\r\n        var asyncDeferred;\r\n        var asyncPromise = null;\r\n        var setIsAsync = function() {\r\n          if (!asyncDeferred) {\r\n            asyncDeferred = $q.defer();\r\n            asyncPromise = asyncDeferred.promise;\r\n          }\r\n\r\n          return function asyncDone() {\r\n            asyncDeferred.resolve();\r\n          };\r\n        };\r\n        scope.$broadcast($modalStack.NOW_CLOSING_EVENT, setIsAsync);\r\n\r\n        // Note that it's intentional that asyncPromise might be null.\r\n        // That's when setIsAsync has not been called during the\r\n        // NOW_CLOSING_EVENT broadcast.\r\n        return $q.when(asyncPromise).then(afterAnimating);\r\n\r\n        function afterAnimating() {\r\n          if (afterAnimating.done) {\r\n            return;\r\n          }\r\n          afterAnimating.done = true;\r\n\r\n          if ($animateCss) {\r\n            $animateCss(domEl, {\r\n              event: 'leave'\r\n            }).start().then(function() {\r\n              domEl.remove();\r\n            });\r\n          } else {\r\n            $animate.leave(domEl);\r\n          }\r\n          scope.$destroy();\r\n          if (done) {\r\n            done();\r\n          }\r\n        }\r\n      }\r\n\r\n      $document.bind('keydown', function(evt) {\r\n        if (evt.isDefaultPrevented()) {\r\n          return evt;\r\n        }\r\n\r\n        var modal = openedWindows.top();\r\n        if (modal && modal.value.keyboard) {\r\n          switch (evt.which){\r\n            case 27: {\r\n              evt.preventDefault();\r\n              $rootScope.$apply(function() {\r\n                $modalStack.dismiss(modal.key, 'escape key press');\r\n              });\r\n              break;\r\n            }\r\n            case 9: {\r\n              $modalStack.loadFocusElementList(modal);\r\n              var focusChanged = false;\r\n              if (evt.shiftKey) {\r\n                if ($modalStack.isFocusInFirstItem(evt)) {\r\n                  focusChanged = $modalStack.focusLastFocusableElement();\r\n                }\r\n              } else {\r\n                if ($modalStack.isFocusInLastItem(evt)) {\r\n                  focusChanged = $modalStack.focusFirstFocusableElement();\r\n                }\r\n              }\r\n\r\n              if (focusChanged) {\r\n                evt.preventDefault();\r\n                evt.stopPropagation();\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      $modalStack.open = function(modalInstance, modal) {\r\n        var modalOpener = $document[0].activeElement,\r\n          modalBodyClass = modal.openedClass || OPENED_MODAL_CLASS;\r\n\r\n        openedWindows.add(modalInstance, {\r\n          deferred: modal.deferred,\r\n          renderDeferred: modal.renderDeferred,\r\n          modalScope: modal.scope,\r\n          backdrop: modal.backdrop,\r\n          keyboard: modal.keyboard,\r\n          openedClass: modal.openedClass\r\n        });\r\n\r\n        openedClasses.put(modalBodyClass, modalInstance);\r\n\r\n        var body = $document.find('body').eq(0),\r\n            currBackdropIndex = backdropIndex();\r\n\r\n        if (currBackdropIndex >= 0 && !backdropDomEl) {\r\n          backdropScope = $rootScope.$new(true);\r\n          backdropScope.index = currBackdropIndex;\r\n          var angularBackgroundDomEl = angular.element('<div modal-backdrop=\"modal-backdrop\"></div>');\r\n          angularBackgroundDomEl.attr('backdrop-class', modal.backdropClass);\r\n          if (modal.animation) {\r\n            angularBackgroundDomEl.attr('modal-animation', 'true');\r\n          }\r\n          backdropDomEl = $compile(angularBackgroundDomEl)(backdropScope);\r\n          body.append(backdropDomEl);\r\n        }\r\n\r\n        var angularDomEl = angular.element('<div modal-window=\"modal-window\"></div>');\r\n        angularDomEl.attr({\r\n          'template-url': modal.windowTemplateUrl,\r\n          'window-class': modal.windowClass,\r\n          'size': modal.size,\r\n          'index': openedWindows.length() - 1,\r\n          'animate': 'animate'\r\n        }).html(modal.content);\r\n        if (modal.animation) {\r\n          angularDomEl.attr('modal-animation', 'true');\r\n        }\r\n\r\n        var modalDomEl = $compile(angularDomEl)(modal.scope);\r\n        openedWindows.top().value.modalDomEl = modalDomEl;\r\n        openedWindows.top().value.modalOpener = modalOpener;\r\n        body.append(modalDomEl);\r\n        body.addClass(modalBodyClass);\r\n\r\n        $modalStack.clearFocusListCache();\r\n      };\r\n\r\n      function broadcastClosing(modalWindow, resultOrReason, closing) {\r\n          return !modalWindow.value.modalScope.$broadcast('modal.closing', resultOrReason, closing).defaultPrevented;\r\n      }\r\n\r\n      $modalStack.close = function(modalInstance, result) {\r\n        var modalWindow = openedWindows.get(modalInstance);\r\n        if (modalWindow && broadcastClosing(modalWindow, result, true)) {\r\n          modalWindow.value.modalScope.$$uibDestructionScheduled = true;\r\n          modalWindow.value.deferred.resolve(result);\r\n          removeModalWindow(modalInstance, modalWindow.value.modalOpener);\r\n          return true;\r\n        }\r\n        return !modalWindow;\r\n      };\r\n\r\n      $modalStack.dismiss = function(modalInstance, reason) {\r\n        var modalWindow = openedWindows.get(modalInstance);\r\n        if (modalWindow && broadcastClosing(modalWindow, reason, false)) {\r\n          modalWindow.value.modalScope.$$uibDestructionScheduled = true;\r\n          modalWindow.value.deferred.reject(reason);\r\n          removeModalWindow(modalInstance, modalWindow.value.modalOpener);\r\n          return true;\r\n        }\r\n        return !modalWindow;\r\n      };\r\n\r\n      $modalStack.dismissAll = function(reason) {\r\n        var topModal = this.getTop();\r\n        while (topModal && this.dismiss(topModal.key, reason)) {\r\n          topModal = this.getTop();\r\n        }\r\n      };\r\n\r\n      $modalStack.getTop = function() {\r\n        return openedWindows.top();\r\n      };\r\n\r\n      $modalStack.modalRendered = function(modalInstance) {\r\n        var modalWindow = openedWindows.get(modalInstance);\r\n        if (modalWindow) {\r\n          modalWindow.value.renderDeferred.resolve();\r\n        }\r\n      };\r\n\r\n      $modalStack.focusFirstFocusableElement = function() {\r\n        if (focusableElementList.length > 0) {\r\n          focusableElementList[0].focus();\r\n          return true;\r\n        }\r\n        return false;\r\n      };\r\n      $modalStack.focusLastFocusableElement = function() {\r\n        if (focusableElementList.length > 0) {\r\n          focusableElementList[focusableElementList.length - 1].focus();\r\n          return true;\r\n        }\r\n        return false;\r\n      };\r\n\r\n      $modalStack.isFocusInFirstItem = function(evt) {\r\n        if (focusableElementList.length > 0) {\r\n          return (evt.target || evt.srcElement) == focusableElementList[0];\r\n        }\r\n        return false;\r\n      };\r\n\r\n      $modalStack.isFocusInLastItem = function(evt) {\r\n        if (focusableElementList.length > 0) {\r\n          return (evt.target || evt.srcElement) == focusableElementList[focusableElementList.length - 1];\r\n        }\r\n        return false;\r\n      };\r\n\r\n      $modalStack.clearFocusListCache = function() {\r\n        focusableElementList = [];\r\n        focusIndex = 0;\r\n      };\r\n\r\n      $modalStack.loadFocusElementList = function(modalWindow) {\r\n        if (focusableElementList === undefined || !focusableElementList.length0) {\r\n          if (modalWindow) {\r\n            var modalDomE1 = modalWindow.value.modalDomEl;\r\n            if (modalDomE1 && modalDomE1.length) {\r\n              focusableElementList = modalDomE1[0].querySelectorAll(tababbleSelector);\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      return $modalStack;\r\n    }])\r\n\r\n  .provider('$modal', function() {\r\n    var $modalProvider = {\r\n      options: {\r\n        animation: true,\r\n        backdrop: true, //can also be false or 'static'\r\n        keyboard: true\r\n      },\r\n      $get: ['$injector', '$rootScope', '$q', '$templateRequest', '$controller', '$modalStack',\r\n        function ($injector, $rootScope, $q, $templateRequest, $controller, $modalStack) {\r\n          var $modal = {};\r\n\r\n          function getTemplatePromise(options) {\r\n            return options.template ? $q.when(options.template) :\r\n              $templateRequest(angular.isFunction(options.templateUrl) ? (options.templateUrl)() : options.templateUrl);\r\n          }\r\n\r\n          function getResolvePromises(resolves) {\r\n            var promisesArr = [];\r\n            angular.forEach(resolves, function(value) {\r\n              if (angular.isFunction(value) || angular.isArray(value)) {\r\n                promisesArr.push($q.when($injector.invoke(value)));\r\n              } else if (angular.isString(value)) {\r\n                promisesArr.push($q.when($injector.get(value)));\r\n              } else {\r\n                promisesArr.push($q.when(value));\r\n              }\r\n            });\r\n            return promisesArr;\r\n          }\r\n\r\n          var promiseChain = null;\r\n          $modal.getPromiseChain = function() {\r\n            return promiseChain;\r\n          };\r\n\r\n          $modal.open = function (modalOptions) {\r\n\r\n            var modalResultDeferred = $q.defer();\r\n            var modalOpenedDeferred = $q.defer();\r\n            var modalRenderDeferred = $q.defer();\r\n\r\n            //prepare an instance of a modal to be injected into controllers and returned to a caller\r\n            var modalInstance = {\r\n              result: modalResultDeferred.promise,\r\n              opened: modalOpenedDeferred.promise,\r\n              rendered: modalRenderDeferred.promise,\r\n              close: function (result) {\r\n                return $modalStack.close(modalInstance, result);\r\n              },\r\n              dismiss: function (reason) {\r\n                return $modalStack.dismiss(modalInstance, reason);\r\n              }\r\n            };\r\n\r\n            //merge and clean up options\r\n            modalOptions = angular.extend({}, $modalProvider.options, modalOptions);\r\n            modalOptions.resolve = modalOptions.resolve || {};\r\n\r\n            //verify options\r\n            if (!modalOptions.template && !modalOptions.templateUrl) {\r\n              throw new Error('One of template or templateUrl options is required.');\r\n            }\r\n\r\n            var templateAndResolvePromise =\r\n              $q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));\r\n\r\n            // Wait for the resolution of the existing promise chain.\r\n            // Then switch to our own combined promise dependency (regardless of how the previous modal fared).\r\n            // Then add to $modalStack and resolve opened.\r\n            // Finally clean up the chain variable if no subsequent modal has overwritten it.\r\n            var samePromise;\r\n            samePromise = promiseChain = $q.all([promiseChain])\r\n              .then(function() { return templateAndResolvePromise; }, function() { return templateAndResolvePromise; })\r\n              .then(function resolveSuccess(tplAndVars) {\r\n\r\n                var modalScope = (modalOptions.scope || $rootScope).$new();\r\n                modalScope.$close = modalInstance.close;\r\n                modalScope.$dismiss = modalInstance.dismiss;\r\n\r\n                modalScope.$on('$destroy', function() {\r\n                  if (!modalScope.$$uibDestructionScheduled) {\r\n                    modalScope.$dismiss('$uibUnscheduledDestruction');\r\n                  }\r\n                });\r\n\r\n                var ctrlInstance, ctrlLocals = {};\r\n                var resolveIter = 1;\r\n\r\n                //controllers\r\n                if (modalOptions.controller) {\r\n                  ctrlLocals.$scope = modalScope;\r\n                  ctrlLocals.$modalInstance = modalInstance;\r\n                  angular.forEach(modalOptions.resolve, function(value, key) {\r\n                    ctrlLocals[key] = tplAndVars[resolveIter++];\r\n                  });\r\n\r\n                  ctrlInstance = $controller(modalOptions.controller, ctrlLocals);\r\n                  if (modalOptions.controllerAs) {\r\n                    if (modalOptions.bindToController) {\r\n                      angular.extend(ctrlInstance, modalScope);\r\n                    }\r\n\r\n                    modalScope[modalOptions.controllerAs] = ctrlInstance;\r\n                  }\r\n                }\r\n\r\n                $modalStack.open(modalInstance, {\r\n                  scope: modalScope,\r\n                  deferred: modalResultDeferred,\r\n                  renderDeferred: modalRenderDeferred,\r\n                  content: tplAndVars[0],\r\n                  animation: modalOptions.animation,\r\n                  backdrop: modalOptions.backdrop,\r\n                  keyboard: modalOptions.keyboard,\r\n                  backdropClass: modalOptions.backdropClass,\r\n                  windowClass: modalOptions.windowClass,\r\n                  windowTemplateUrl: modalOptions.windowTemplateUrl,\r\n                  size: modalOptions.size,\r\n                  openedClass: modalOptions.openedClass\r\n                });\r\n                modalOpenedDeferred.resolve(true);\r\n\r\n            }, function resolveError(reason) {\r\n              modalOpenedDeferred.reject(reason);\r\n              modalResultDeferred.reject(reason);\r\n            })\r\n            .finally(function() {\r\n              if (promiseChain === samePromise) {\r\n                promiseChain = null;\r\n              }\r\n            });\r\n\r\n            return modalInstance;\r\n          };\r\n\r\n          return $modal;\r\n        }]\r\n    };\r\n\r\n    return $modalProvider;\r\n  });\r\n\n/**\r\n * Created by ZHL on 2016/8/15.\r\n */\r\n'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive\r\n * @description\r\n * \r\n */\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:dateTimePicker\r\n     * @description\r\n     * # dateTimePicker\r\n     * \r\n     */\r\n    .directive('dateRange', ['$document', '$timeout', function ($document, $timeout) {\r\n        return {\r\n            templateUrl: 'components/datepicker/new/daterange.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            require: ['dateRange'],\r\n            controller: 'dateRangeCtrl',\r\n            controllerAs: 'dateRange',\r\n            scope: {\r\n                format: '@',\r\n                startDate: \"=\",\r\n                endDate: \"=\",\r\n                showTime: \"=\",\r\n                minDate: \"=\",\r\n                datepickerMode: '@',\r\n                minMode: '@',\r\n                maxDate: \"=\"\r\n            },\r\n            link: function postLink(scope, element, attrs, ctrls) {\r\n                var datepickerCtrl = ctrls[0];\r\n                datepickerCtrl.init();\r\n\r\n                var documentClickBind = function () {\r\n                    scope.$apply(function () {\r\n                        scope.showMenu = false;\r\n                    });\r\n                };\r\n\r\n                scope.$watch('showMenu', function (value) {\r\n                    if (value) {\r\n                        $timeout(function () {\r\n                            $document.bind('click', documentClickBind);\r\n                        }, 0, false);\r\n                    } else {\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                });\r\n                attrs.$observe('disabled', function (value) {\r\n                    scope.disabled = !!value;\r\n                });\r\n\r\n            }\r\n        };\r\n    }])\r\n    .controller('dateRangeCtrl', ['$scope', function ($scope) {\r\n        var self = this,\r\n            startDate = new Date($scope.startDate),\r\n            endDate = new Date($scope.endDate);\r\n        $scope.minMode = $scope.minMode || 'day';\r\n        $scope.datepickerMode = $scope.datepickerMode || 'day';\r\n        self.init = function () {\r\n            if (!$scope.format) {\r\n                $scope.format = $scope.showTime ? 'yyyy-MM-dd HH:mm:ss' : 'yyyy-MM-dd';\r\n            }\r\n            $scope.startDate = new Date($scope.startDate);\r\n            $scope.endDate = new Date($scope.endDate);\r\n        };\r\n\r\n        self.open = function () {\r\n            $scope.showMenu = $scope.disabled ? false : !$scope.showMenu;\r\n        };\r\n\r\n        self.reset = function () {\r\n            $scope.startDate = new Date(startDate);\r\n            $scope.endDate = new Date(endDate);\r\n        };\r\n\r\n        self.stopPropagation = function ($event) {\r\n            $event.stopPropagation();\r\n        };\r\n    }])\r\n;\r\n\r\n\r\n\r\n\n/**\r\n * Created by ZHL on 2016/3/17.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n    /**\r\n     * @ngdoc directive\r\n     * @name eayunApp.directive:eayunSelect\r\n     * @description\r\n     * # eayunSelect\r\n     * \r\n     */\r\n    .directive('eayunTableFilter', ['$document', '$timeout', function ($document, $timeout) {\r\n        return {\r\n            templateUrl: 'components/select/filter/filter.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            controller: ['$scope', '$log', function ($scope, $log) {\r\n                var ctrl = this;\r\n                ctrl.init = function () {\r\n                    if (!angular.isArray($scope.listData)) {\r\n                        $log.log(\"eayunTableFilter: listData\");\r\n                        $log.debug($scope.listData);\r\n                    }\r\n\r\n                    angular.forEach($scope.listData, function (item) {\r\n                        if (item.$$select) {\r\n                            $scope.text = item[$scope.textField];\r\n                        }\r\n                    });\r\n                    //\r\n                    if (!$scope.text) {\r\n                        $scope.text = $scope.listData[0][$scope.textField];\r\n                    }\r\n                };\r\n\r\n                ctrl.open = function () {\r\n                    $scope.showMenu = !$scope.showMenu;\r\n                };\r\n\r\n                ctrl.select = function (item, $event) {\r\n                    $scope.text = item[$scope.textField];\r\n                    ctrl.warpCallback('itemClicked', item, $event);\r\n                };\r\n\r\n                ctrl.warpCallback = function (callback, item, $event) {\r\n                    ($scope[callback] || angular.noop)({\r\n                        $item: item,\r\n                        $event: $event\r\n                    });\r\n                };\r\n            }],\r\n            controllerAs: 'ctrl',\r\n            scope: {\r\n                listData: '=',\r\n                textField: '@',\r\n                itemClicked: '&'\r\n            },\r\n            require: ['eayunTableFilter'],\r\n            link: function postLink(scope, element, attrs, ctrls) {\r\n                var ctrl = ctrls[0];\r\n\r\n                function documentClickBind() {\r\n                    scope.$apply(function () {\r\n                        scope.showMenu = false;\r\n                    });\r\n                };\r\n\r\n                scope.$watch('listData', function (value) {\r\n                    ctrl.init();\r\n                });\r\n\r\n                scope.$watch('showMenu', function (value) {\r\n                    if (value) {\r\n                        $timeout(function () {\r\n                            $document.bind('click', documentClickBind);\r\n                        }, 0, false);\r\n                    } else {\r\n                        $document.unbind('click', documentClickBind);\r\n                    }\r\n                });\r\n\r\n                ctrl.init();\r\n            }\r\n        };\r\n    }]);\r\n\n/**\r\n * Created by ZHL on 2016/8/9.\r\n */\r\n'use strict';\r\n\r\nangular.module('eayun.components')\r\n/**\r\n * @ngdoc directive\r\n * @name eayunApp.directive:eayunSelect\r\n * @description\r\n * # eayunSelect\r\n * \r\n */\r\n    .directive('eayunSelectTwoWay', ['$document', '$timeout', function ($document, $timeout) {\r\n        return {\r\n            templateUrl: 'components/select/twoway/twoway.html',\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            controller: ['$scope', '$log', '$filter', function ($scope, $log, $filter) {\r\n                var vm = this;\r\n                $scope.preArray = $scope.preTitle === undefined ? ['', ''] : $scope.preTitle.split(',');\r\n\r\n                (function init() {\r\n                    if (!angular.isArray($scope.listData)) {\r\n                        $log.log(\"eayunSelectTowWay: listData\");\r\n                        $log.debug($scope.listData);\r\n                    }\r\n\r\n                    if (!angular.isDefined($scope.textField)) {\r\n                        $log.log(\"eayunSelectTowWay: textField\");\r\n                        $log.debug($scope.textField);\r\n                    }\r\n\r\n                    $scope.headers = $scope.headers || \"\";\r\n                    $scope.headerWidth = $scope.headerWidth || \"\";\r\n                    vm.search = \"\";\r\n                    vm.fields = $scope.textField.split(',');\r\n                    vm.headerArray = $scope.headers.split(',');\r\n                    vm.width = $scope.headerWidth.split(',');\r\n\r\n                    if ($scope.listDate === undefined) {\r\n                        $scope.listDate = [];\r\n                    }\r\n                })();\r\n\r\n\r\n                vm.select = function (item) {\r\n                    if (item.$$selected) {\r\n                        item.$$selected = false;\r\n                        $scope.date.count--;\r\n                    } else {\r\n                        item.$$selected = true;\r\n                        $scope.date.count++;\r\n                    }\r\n                };\r\n\r\n                vm.addAll = function () {\r\n                    angular.forEach($filter('filter')($scope.listData, vm.filter), function (item) {\r\n                        if (!item.$$selected) {\r\n                            $scope.date.count++;\r\n                            item.$$selected = true;\r\n                        }\r\n                    });\r\n                };\r\n\r\n                vm.removeAll = function () {\r\n                    angular.forEach($scope.listData, function (item) {\r\n                        item.$$selected = false;\r\n                    });\r\n                    $scope.date.count = 0;\r\n                };\r\n\r\n                vm.filter = function (value, index, array) {\r\n                    var b = false;\r\n                    angular.forEach(vm.fields, function (field) {\r\n                        if ((value[field] + '').indexOf(vm.search) >= 0)\r\n                            b = true;\r\n                    });\r\n                    return b;\r\n                };\r\n            }],\r\n            controllerAs: 'two',\r\n            scope: {\r\n                listData: '=',\r\n                textField: '@',\r\n                headers: '@',\r\n                headerWidth: '@',\r\n                title: '@',\r\n                preTitle: '@',\r\n                itemTemplateUrl: '@'\r\n            },\r\n            link: function postLink(scope, element, attrs, ctrls) {\r\n                scope.date = {};\r\n                scope.$watch('listData', function (value, v) {\r\n                    var i = 0;\r\n                    angular.forEach(value, function (item) {\r\n                        if (item.$$selected) {\r\n                            i++;\r\n                        }\r\n                    });\r\n                    scope.date.count = i;\r\n                }, true);\r\n                element.removeAttr('title');//title\r\n                if (attrs.name) {\r\n                    scope.$parent[attrs.name] = scope.date;\r\n                }\r\n            }\r\n        };\r\n    }]);"],"sourceRoot":"/source/"}